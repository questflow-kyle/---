# 第9节：课前检查与材料

> 本清单供讲师（沈林伟）和助教（梅杭俊）在上课前 30 分钟完成。
> 所有检查项完成后，在方框内打勾 `[x]`。

---

## 一、环境检查（课前30分钟，逐台电脑）

> **本节是实践课第一节，学员要独立用Claude Code开发。** 环境有问题会直接导致学员无法动手，必须课前全部排除。

### 每台电脑检查清单

对每一台学员电脑执行以下操作：

#### 1. WSL 终端能正常打开
- [ ] 打开 Windows Terminal 或 WSL 终端
- [ ] 输入 `pwd`，确认能输出路径

#### 2. Python 环境可用
- [ ] 输入 `python3 --version`，确认输出版本号（如 `Python 3.10.x` 或更高）

#### 3. Claude Code 可用
- [ ] 输入 `claude --version`，确认输出版本号
- [ ] 输入 `claude`，确认能正常启动（看到 Claude Code 交互界面）
- [ ] 在 Claude Code 中输入"你好"，确认能收到回复
- [ ] 输入 `/exit` 退出 Claude Code

#### 4. API 配额检查
- [ ] 确认 API key 配置正确（课前跟 Claude Code 对话几轮，没有报配额错误）
- [ ] 预估本节课用量：每位学员约 10-15 次对话（本节对话量比之前多，因为要独立开发+调试）
- [ ] 如果使用共享 API key，确认余额充足

#### 5. 混乱文件夹已就位
- [ ] 确认 `~/messy_folder` 目录存在：`ls ~/messy_folder`
- [ ] 确认文件数量正确：`ls ~/messy_folder | wc -l`（应为40个左右）
- [ ] 快速浏览确认文件类型多样：`ls ~/messy_folder`

### 检查记录表

| 电脑编号 | WSL | Python | Claude Code | API | 文件夹 | 备注 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---|
| 1 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 2 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 3 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 4 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 5 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 6 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 7 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 8 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 9 | [ ] | [ ] | [ ] | [ ] | [ ] | |
| 10 | [ ] | [ ] | [ ] | [ ] | [ ] | |

---

## 二、混乱文件夹准备

> **这是本节课最重要的材料。** 每台学员电脑上都需要一份完全相同的混乱文件夹。

### 准备方法

在讲师电脑上执行以下脚本，生成混乱文件夹，然后复制到每台学员电脑上。

#### 一键生成脚本

在终端中执行以下命令，自动生成包含40个文件的混乱文件夹：

```bash
mkdir -p ~/messy_folder && cd ~/messy_folder

# 图片文件（8个）
touch 微信图片_20250315_001.jpg
touch 微信图片_20250412_002.jpg
touch 产品照片_正面.png
touch 产品照片_侧面.png
touch 身份证正面.jpeg
touch 工牌照.jpg
touch 活动合影_2025春游.gif
touch 截图_报价单.bmp

# 文档文件（8个）
touch 劳动合同_张三.docx
touch 请假条_模板.doc
touch 个人简历_2025版.docx
touch 会议纪要_0301.txt
touch 工作周报_第12周.txt
touch 培训通知.pdf
touch 社保缴纳说明.pdf
touch 入职须知.pdf

# 表格文件（6个）
touch 员工花名册.xlsx
touch 工资表_3月.xlsx
touch 考勤记录_2025Q1.xls
touch 物资采购清单.csv
touch 销售数据_华东区.csv
touch 项目预算表.xlsx

# 视频文件（4个）
touch 培训录像_第1课.mp4
touch 产品演示视频.avi
touch 年会精彩片段.mov
touch 操作教程_设备维护.mp4

# 音频文件（4个）
touch 会议录音_0315.mp3
touch 英语听力_Lesson5.mp3
touch 培训讲座_录音.wav
touch 语音备忘_待办事项.flac

# 代码文件（3个）
touch test_script.py
touch data_analysis.py
touch index.html

# 压缩文件（3个）
touch 项目资料打包.zip
touch 历史数据备份.rar
touch 图片素材合集.7z

# 其他文件（4个）
touch 临时笔记.md
touch 数据库备份.sql
touch 配置文件.json
touch 日志_20250401.log

echo "混乱文件夹准备完成，共 $(ls | wc -l) 个文件"
```

### 文件清单（共40个）

| 序号 | 文件名 | 类型 | 预期分类 |
|:---:|:---|:---|:---|
| 1 | 微信图片_20250315_001.jpg | 图片 | 图片 |
| 2 | 微信图片_20250412_002.jpg | 图片 | 图片 |
| 3 | 产品照片_正面.png | 图片 | 图片 |
| 4 | 产品照片_侧面.png | 图片 | 图片 |
| 5 | 身份证正面.jpeg | 图片 | 图片 |
| 6 | 工牌照.jpg | 图片 | 图片 |
| 7 | 活动合影_2025春游.gif | 图片 | 图片 |
| 8 | 截图_报价单.bmp | 图片 | 图片 |
| 9 | 劳动合同_张三.docx | 文档 | 文档 |
| 10 | 请假条_模板.doc | 文档 | 文档 |
| 11 | 个人简历_2025版.docx | 文档 | 文档 |
| 12 | 会议纪要_0301.txt | 文档 | 文档 |
| 13 | 工作周报_第12周.txt | 文档 | 文档 |
| 14 | 培训通知.pdf | 文档 | 文档 |
| 15 | 社保缴纳说明.pdf | 文档 | 文档 |
| 16 | 入职须知.pdf | 文档 | 文档 |
| 17 | 员工花名册.xlsx | 表格 | 表格 |
| 18 | 工资表_3月.xlsx | 表格 | 表格 |
| 19 | 考勤记录_2025Q1.xls | 表格 | 表格 |
| 20 | 物资采购清单.csv | 表格 | 表格 |
| 21 | 销售数据_华东区.csv | 表格 | 表格 |
| 22 | 项目预算表.xlsx | 表格 | 表格 |
| 23 | 培训录像_第1课.mp4 | 视频 | 视频 |
| 24 | 产品演示视频.avi | 视频 | 视频 |
| 25 | 年会精彩片段.mov | 视频 | 视频 |
| 26 | 操作教程_设备维护.mp4 | 视频 | 视频 |
| 27 | 会议录音_0315.mp3 | 音频 | 音频 |
| 28 | 英语听力_Lesson5.mp3 | 音频 | 音频 |
| 29 | 培训讲座_录音.wav | 音频 | 音频 |
| 30 | 语音备忘_待办事项.flac | 音频 | 音频 |
| 31 | test_script.py | 代码 | 其他（或代码，看学员分类） |
| 32 | data_analysis.py | 代码 | 其他（或代码，看学员分类） |
| 33 | index.html | 代码 | 其他（或代码，看学员分类） |
| 34 | 项目资料打包.zip | 压缩包 | 其他（或压缩包，看学员分类） |
| 35 | 历史数据备份.rar | 压缩包 | 其他（或压缩包，看学员分类） |
| 36 | 图片素材合集.7z | 压缩包 | 其他（或压缩包，看学员分类） |
| 37 | 临时笔记.md | 其他 | 其他 |
| 38 | 数据库备份.sql | 其他 | 其他 |
| 39 | 配置文件.json | 其他 | 其他 |
| 40 | 日志_20250401.log | 其他 | 其他 |

> **说明**：序号31-40的文件可能会被分到"其他"类，也可能被学员自定义为"代码""压缩包"等类别——这正是L2学员可以修改分类规则的地方。

### 复制到学员电脑

在讲师电脑上生成后，用U盘或局域网文件共享复制到每台学员电脑的 `~` 目录下。确保每台电脑都有完整的 `~/messy_folder`。

```bash
# 如果用scp复制（局域网内）：
scp -r ~/messy_folder 学员电脑IP:~/

# 如果用U盘：将 messy_folder 文件夹整个拷到U盘，再在每台电脑上复制到 ~/ 目录
```

> **重要**：复制完成后，在每台电脑上执行 `ls ~/messy_folder | wc -l` 确认文件数量正确（40个）。

---

## 三、讲师演示材料

> 讲师在"环节一：任务展示"中需要演示完整的"乱文件夹 → 运行脚本 → 整理完毕"效果。以下是演示用的完整材料。

### 讲师演示用脚本

在讲师电脑的 `~/messy_folder` 中，提前用Claude Code生成一个 `organize.py` 脚本。以下是参考版本（也可以在课前自己用Claude Code生成一遍，同时测试Claude Code是否正常）：

**讲师提示词（课前在自己电脑上测试用）：**

```
写一个Python脚本 organize.py，功能是自动整理当前文件夹里的文件：
1. 扫描当前文件夹里的所有文件（不包括子文件夹和脚本自身）
2. 根据文件后缀名判断类型，分类规则：
   - 图片：.jpg, .jpeg, .png, .gif, .bmp
   - 文档：.doc, .docx, .txt, .pdf
   - 表格：.xls, .xlsx, .csv
   - 视频：.mp4, .avi, .mov
   - 音频：.mp3, .wav, .flac
   - 其他：所有不认识的后缀
3. 为每个类型创建对应的中文子文件夹（图片、文档、表格、视频、音频、其他）
4. 把文件移动到对应的子文件夹
5. 最后打印整理报告，包括每个类型整理了多少个文件、总共处理了多少个文件
6. 同时把报告保存到 report.txt 文件中
```

### 预期运行结果

运行 `python3 organize.py` 后，终端应输出类似以下内容：

```
========== 文件整理报告 ==========

图片：8 个文件
  → 微信图片_20250315_001.jpg
  → 微信图片_20250412_002.jpg
  → 产品照片_正面.png
  → 产品照片_侧面.png
  → 身份证正面.jpeg
  → 工牌照.jpg
  → 活动合影_2025春游.gif
  → 截图_报价单.bmp

文档：8 个文件
  → 劳动合同_张三.docx
  → 请假条_模板.doc
  → 个人简历_2025版.docx
  → 会议纪要_0301.txt
  → 工作周报_第12周.txt
  → 培训通知.pdf
  → 社保缴纳说明.pdf
  → 入职须知.pdf

表格：6 个文件
  → 员工花名册.xlsx
  → 工资表_3月.xlsx
  → 考勤记录_2025Q1.xls
  → 物资采购清单.csv
  → 销售数据_华东区.csv
  → 项目预算表.xlsx

视频：4 个文件
  → 培训录像_第1课.mp4
  → 产品演示视频.avi
  → 年会精彩片段.mov
  → 操作教程_设备维护.mp4

音频：4 个文件
  → 会议录音_0315.mp3
  → 英语听力_Lesson5.mp3
  → 培训讲座_录音.wav
  → 语音备忘_待办事项.flac

其他：10 个文件
  → test_script.py
  → data_analysis.py
  → index.html
  → 项目资料打包.zip
  → 历史数据备份.rar
  → 图片素材合集.7z
  → 临时笔记.md
  → 数据库备份.sql
  → 配置文件.json
  → 日志_20250401.log

================================
总计处理：40 个文件
报告已保存到 report.txt
================================
```

### 演示后文件夹结构

整理后的 `~/messy_folder` 应呈现如下结构：

```
~/messy_folder/
├── organize.py
├── report.txt
├── 图片/
│   ├── 微信图片_20250315_001.jpg
│   ├── 微信图片_20250412_002.jpg
│   ├── 产品照片_正面.png
│   ├── 产品照片_侧面.png
│   ├── 身份证正面.jpeg
│   ├── 工牌照.jpg
│   ├── 活动合影_2025春游.gif
│   └── 截图_报价单.bmp
├── 文档/
│   ├── 劳动合同_张三.docx
│   ├── 请假条_模板.doc
│   ├── 个人简历_2025版.docx
│   ├── 会议纪要_0301.txt
│   ├── 工作周报_第12周.txt
│   ├── 培训通知.pdf
│   ├── 社保缴纳说明.pdf
│   └── 入职须知.pdf
├── 表格/
│   ├── 员工花名册.xlsx
│   ├── 工资表_3月.xlsx
│   ├── 考勤记录_2025Q1.xls
│   ├── 物资采购清单.csv
│   ├── 销售数据_华东区.csv
│   └── 项目预算表.xlsx
├── 视频/
│   ├── 培训录像_第1课.mp4
│   ├── 产品演示视频.avi
│   ├── 年会精彩片段.mov
│   └── 操作教程_设备维护.mp4
├── 音频/
│   ├── 会议录音_0315.mp3
│   ├── 英语听力_Lesson5.mp3
│   ├── 培训讲座_录音.wav
│   └── 语音备忘_待办事项.flac
└── 其他/
    ├── test_script.py
    ├── data_analysis.py
    ├── index.html
    ├── 项目资料打包.zip
    ├── 历史数据备份.rar
    ├── 图片素材合集.7z
    ├── 临时笔记.md
    ├── 数据库备份.sql
    ├── 配置文件.json
    └── 日志_20250401.log
```

### 讲师预演步骤

课前在讲师电脑上完整走一遍：

1. 确认 `~/messy_folder` 有40个文件：`ls ~/messy_folder | wc -l`
2. 进入目录：`cd ~/messy_folder`
3. 启动 Claude Code：`claude`
4. 输入上面的提示词，让它生成 `organize.py`
5. 退出 Claude Code：`/exit`
6. 运行脚本：`python3 organize.py`
7. 检查结果：`ls` 查看子文件夹已创建，`cat report.txt` 查看报告
8. **确认无误后，恢复原状**（把文件移回来，删除子文件夹和脚本）：
   ```bash
   # 恢复原状的快捷方法：删除整个文件夹，重新用生成脚本创建
   cd ~
   rm -rf ~/messy_folder
   # 重新运行上面"一键生成脚本"的命令
   ```
9. **保留演示用的 organize.py**：把预演时生成的脚本单独保存到其他位置
   ```bash
   # 保存演示用脚本到备份位置
   mkdir -p ~/demo_backup
   cp ~/messy_folder_backup/organize.py ~/demo_backup/
   ```

> **重要**：课上演示时，讲师直接运行预先保存好的脚本（从 `~/demo_backup/` 复制过来），不要现场让Claude Code生成——避免现场生成失败或耗时太长影响节奏。

---

## 四、投影内容准备

课上需要投影的内容，提前准备好（可以是文本文件或笔记）：

**投影1：需求拆解（环节二用）**
```
文件整理脚本——需求拆解：

1. 扫描文件夹，获取所有文件
2. 判断每个文件的类型（看后缀名）
3. 创建对应的子文件夹
4. 把文件移动到对应的子文件夹
5. 生成整理报告
```

**投影2：参考提示词（环节三全程保留）**
```
参考提示词（可以直接用，也可以用自己的话改写）：

写一个Python脚本 organize.py，功能是自动整理当前文件夹里的文件：
1. 扫描当前文件夹里的所有文件
2. 根据文件后缀名判断类型，分类规则：
   - 图片：.jpg, .jpeg, .png, .gif, .bmp
   - 文档：.doc, .docx, .txt, .pdf
   - 表格：.xls, .xlsx, .csv
   - 视频：.mp4, .avi, .mov
   - 音频：.mp3, .wav, .flac
   - 其他：不认识的后缀放到"其他"文件夹
3. 为每个类型创建子文件夹（如果不存在）
4. 把文件移动到对应的子文件夹
5. 最后打印一份整理报告，说明每个类型整理了多少个文件
```

**投影3：分层要求（环节三全程保留）**
```
L1（能用）：跑通脚本，文件成功分类到子文件夹
  → 完成标准：运行 python3 organize.py 后，文件被移动到了对应的子文件夹

L2（能调）：在L1基础上，修改分类规则或文件夹命名
  → 比如：把子文件夹名改成英文（Images、Documents……）
  → 或者：加一个新的分类（比如"代码"类：.py, .js, .html）
  → 并且能说出脚本中循环和条件判断分别在做什么

L3（能交付）：在L2基础上，添加额外功能
  → 比如：检测重复文件（文件名相同的怎么处理）
  → 或者：生成整理日志保存到文件（不只是打印到屏幕）
  → 或者：支持命令行参数（指定要整理的文件夹路径）
```

**投影4：常用命令速查（全程保留）**
```
cd ~/messy_folder        进入工作目录
ls                       查看目录下有什么文件
claude                   启动 Claude Code
/exit                    退出 Claude Code
python3 organize.py      运行整理脚本
cat report.txt           查看整理报告
```

---

## 五、备用方案

### 备用方案A：个别电脑 Claude Code 无法使用

**症状**：`claude` 命令报错、API key 无效、网络不通等

**应对**：
1. 先尝试快速修复（2分钟内能解决就修）
2. 如果修不好，该学员与旁边同学共用一台电脑（两人一组，一人操作一人观察，中途轮换）
3. 课后单独帮该学员修复环境

### 备用方案B：全部电脑 Claude Code 无法使用（如网络中断、API服务故障）

**这是最坏情况，概率低但必须有预案。**

**应对**：
1. 切换到网页版 Claude（https://claude.ai）或其他可用的网页版AI
2. 在网页版AI中输入同样的提示词，生成代码
3. 手动将代码复制到文件中：
   ```bash
   nano organize.py
   ```
   （将AI生成的代码粘贴进去，`Ctrl+O` 保存，`Ctrl+X` 退出）
4. 运行脚本：`python3 organize.py`
5. 教学流程其余部分不变
6. 向学员解释："今天网络有点问题，我们换个方式，但方法是一样的——你说需求、AI写代码、你运行。"

> **注意**：用网页版AI + 手动复制的方式体验差一些（多了复制粘贴步骤），但核心教学目标不受影响。

### 备用方案C：混乱文件夹没准备好（遗漏了某台电脑）

**应对**：
1. 用U盘从其他电脑快速复制一份
2. 或者在该电脑上直接运行"一键生成脚本"（见第二节），30秒即可生成

### 备用方案D：学员脚本运行后文件丢失（误操作）

**应对**：
1. 不要慌，文件只是被移动到了子文件夹中，不会被删除
2. 如果需要重新开始，删除整个 `~/messy_folder`，重新用"一键生成脚本"创建
3. 跟学员说："这就是为什么以后操作重要文件之前要先备份。没关系，我们重新生成一份。"

### 备用方案E：课堂时间不够

**应对**：
- 参见教案中的"如果时间超了，按优先级砍"
- 底线：确保每位学员至少完成L1（脚本跑通，文件成功分类）
- 成果展示可以放到下节课开头

---

## 六、最终确认（课前5分钟）

以下是上课前最后5分钟的检查，确认一切就绪：

- [ ] 所有电脑环境检查完毕（WSL + Python + Claude Code），问题已解决或有备用方案
- [ ] 每台电脑的 `~/messy_folder` 已就位，文件数量正确（40个）
- [ ] 讲师电脑投影正常，终端字体足够大（后排学员能看清，建议字号 18-22）
- [ ] 讲师已完整预演一遍：生成脚本 → 运行 → 查看结果
- [ ] 讲师的演示用脚本已准备好（`~/demo_backup/organize.py`），可以直接用于课上演示
- [ ] 讲师的 `~/messy_folder` 已恢复原状（没有子文件夹、没有脚本，只有40个原始文件）
- [ ] 投影内容已准备好（需求拆解、参考提示词、分层要求、常用命令速查）
- [ ] 网络连接稳定
- [ ] 梅杭俊已了解自己的巡场职责：
  - 开发环节分左右两侧巡回（讲师巡左侧，梅杭俊巡右侧）
  - 重点帮助卡在启动环节的学员
  - 引导先完成的学员去帮助未完成的同学
- [ ] 已确认上节课指定的负责回顾的学员今天到课

---

## 七、课后材料回收

课后需要确认/保留：

- [ ] 记录每位学员完成的等级（L1/L2/L3），用于跟踪学习进度
- [ ] 如果有学员没有完成L1，记录原因（环境问题/理解困难/时间不够），下节课优先关注
- [ ] 记录课上遇到的新问题（Claude Code行为异常、常见报错等），更新到教案FAQ中
- [ ] 指定下节课负责开场回顾的学员（已在课上完成）
- [ ] 如果有学员的电脑环境仍有问题，安排课后修复时间
