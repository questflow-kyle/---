# 第8节：开发工作流与阶段检查 —— 剧本式教案

## 课时信息

| 项目 | 内容 |
|:---|:---|
| 所属阶段 | 基础课（第8节/共14节，基础课收官） |
| 主讲 | 沈林伟 |
| 辅助 | 梅杭俊 |
| 时长 | 45 分钟 |
| 班级规模 | 5-10 人 |
| 前置要求 | 第7节：文件操作与数据处理 |

## 教学目标

学完本节课，学员能够：
1. 独立完成"搜索信息 → 用AI处理 → 在终端运行代码查看结果"的完整链路（阶段检查）
2. 理解Claude Code与网页版AI的核心区别（能直接操作文件、运行代码、自动修复）
3. 用Claude Code完成"描述需求 → 生成代码 → 运行 → 调试 → 追加需求"的完整开发工作流
4. 掌握"先定义什么算对，再让AI写代码"的开发方法论

---

## 时间分配

| 环节 | 时长 | 累计 |
|:---|:---:|:---:|
| 开场：学员回顾 | 5分钟 | 0:05 |
| 环节一：中间检查点 | 8分钟 | 0:13 |
| 环节二：从网页AI到Claude Code | 8分钟 | 0:21 |
| 环节三：完整开发工作流演示 | 12分钟 | 0:33 |
| 环节四：练习 | 7分钟 | 0:40 |
| 环节五：开发方法论总结 + 课后小结 | 5分钟 | 0:45 |
| 总计 | 45分钟 | 0:45 |

---

## 开场：学员回顾（5分钟）

### 机制

- 上节课（第7节）结束时指定的学员负责回顾（轮流制）
- 学员用自己的话讲上节课学了什么，2-3分钟
- 讲师补充和纠正，1-2分钟

### 讲师说（引导）

> "今天是我们基础课的最后一节，也是一个重要的转折点。在开始新内容之前，先请XXX来给大家回顾一下上节课的内容。XXX，你来说说上节课我们学了什么？"

（等学员讲完，2-3分钟）

### 讲师说（补充）

> "说得很好。上节课我们学了用Python读文件、写文件、处理数据。那把前面7节课串起来想一下——我们从搜索开始，到跟AI对话，到办公软件，到环境搭建，到写程序、读代码、处理文件。这7节课就是基础功。
>
> 今天这节课有两件事：第一，我要检验一下大家这7节基础功学得怎么样；第二，我们要升级工具——从网页版AI升级到Claude Code，学一套完整的开发工作流。这套工作流就是后面5节实践课的方法论基础。"

### 讲师注意

- 学员讲得不完整没关系，重点是让他们开口
- 如果学员紧张说不出来，用提问引导："上节课我们处理了什么类型的文件？""用了哪个Python函数来读文件？"
- 讲完后一定要肯定："说得很好"或"方向对了，我补充一点……"

---

## 环节一：中间检查点（8分钟）

> 这是基础课收官的关键环节。用一个综合小任务检验学员对前7节内容的掌握情况。

### 讲师说（任务发布）

> "好，接下来给大家一个小任务。这个任务会用到前面7节课学的东西——搜索、AI对话、终端操作、写代码运行。我给你们一段需求，你们独立完成。不用紧张，做到哪一步算哪一步，我和梅杭俊会在旁边看着。"

### 动作

- 投影显示任务内容（同时口头念一遍）
- 梅杭俊准备好，站到教室另一侧，准备巡场

### 检查点任务（投影内容）

```
【阶段检查任务】 限时5分钟

需求：查一下 Python 的 math 模块里 "sqrt" 函数是做什么的，
     然后写一个程序，让用户输入一个数字，程序输出这个数字的平方根。

步骤提示（实在卡住了再看）：
1. 搜索：用搜索引擎查 "Python math sqrt 用法"
2. AI处理：打开网页版AI，描述需求让它帮你写代码
3. 终端运行：把代码保存为 check.py，在终端用 python3 check.py 运行
4. 验证：输入 9，看看是不是输出 3.0

做完的同学帮一下旁边还没做完的。
```

### 讲师说（开始计时）

> "任务在屏幕上。现在开始，5分钟。遇到不会的，先自己想想前面学的方法，实在卡住了看屏幕上的步骤提示。做完的同学帮帮旁边还在做的。开始吧。"

### 巡场要点（讲师 + 助教分工）

- **沈林伟**：重点观察学员在"搜索"和"终端运行"环节的表现
- **梅杭俊**：重点帮助卡在"AI对话"和"代码保存"环节的学员
- 观察记录每位学员卡在哪一步：
  - 卡在搜索 → 说明第1节需要补强
  - 卡在AI对话 → 说明第2节需要补强
  - 卡在保存文件 → 说明第4节终端操作需要补强
  - 卡在运行代码 → 说明第5节需要补强
- 不要急着帮学员做，先给提示，让他们自己想办法
- 如果学员直接跳过搜索步骤直接问AI，也可以，不强制要求搜索

### 学员屏幕

学员完成后应该看到：
- 终端中运行 `python3 check.py`
- 程序提示输入数字
- 输入 `9` 后输出 `3.0`（或类似结果）

### 评估标准

| 完成度 | 表现 | 讲师判断 |
|:---:|:---|:---|
| 全部完成 | 独立走完搜索→AI→运行→验证全链路 | 基础扎实，实践课可以放手 |
| 完成大部分 | 能用AI写代码并运行，但搜索或调试环节需要提示 | 基础OK，实践课需要适当引导 |
| 完成一小部分 | 能启动AI对话但后续卡住 | 基础薄弱，实践课需要重点关注 |
| 基本未完成 | 不知道从哪开始 | 课后需要单独补课 |

### 讲师说（任务结束后总结，2分钟）

> "好，时间到。做完的举个手？"

（观察举手情况）

> "不管做到哪一步都没关系。这个任务把我们前7节课的东西串起来了——搜索找信息，AI帮你写代码，终端跑程序。这就是我们学过的完整链路。
>
> 我刚才观察了一下大家的情况。"

（根据实际情况选择以下一种说法）

**如果大多数完成了：**
> "大部分同学都做出来了，非常好。说明前面的基础打得不错。接下来我们要把这个链路再升级——不用网页版AI来回复制粘贴了，用一个更强的工具。"

**如果完成率一般：**
> "有些同学卡住了，没关系。卡在搜索的，回去把第1节的关键词方法复习一下；卡在终端操作的，回去把第4节的命令练一练。后面实践课这些东西会反复用到。现在我们先往下走，学一个新工具，它能帮你省掉很多中间步骤。"

### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| 学员不知道从哪开始 | 对综合任务不知道拆解 | 提示："先搜一下 sqrt 是什么意思" |
| 搜索到了但不知道怎么告诉AI | AI提示词组织困难 | 提示："就把需求直接跟AI说，像跟人说话一样" |
| AI给了代码但不会保存 | 忘了终端文件操作 | 提示："还记得 nano 怎么用吗？或者用 Claude Code 帮你写" |
| 代码运行报错 | 复制粘贴丢了缩进或字符 | 走过去看报错信息，帮学员定位问题 |
| 5分钟内没人完成 | 任务偏难或环节不熟 | 不要延长时间，直接进入总结环节，说明这就是为什么要升级工具 |

---

## 环节二：从网页AI到Claude Code（8分钟）

### 讲师说（引出对比）

> "刚才大家做那个任务的时候，是不是经历了这样的过程——打开浏览器搜东西，然后切到AI网页去问，AI给了代码你要复制，再切到终端去粘贴保存，然后运行。如果出错了，又要回到AI那边去问，再复制，再粘贴……来回跳。
>
> 这个过程能走通，但效率不高。今天我介绍一个工具，叫 Claude Code。它能直接在终端里跟你对话，而且它不光能聊天——它能直接帮你写文件、改代码、运行程序。不用你来回复制粘贴了。"

### 动作——网页版AI演示（3分钟）

1. 打开投影，左边放浏览器（打开网页版AI），右边放终端
2. 在网页版AI中输入：

```
写一个Python程序，打印"hello world"
```

3. AI回复代码后，手动复制代码
4. 切到终端，输入：

```bash
cd ~/learning
nano hello_web.py
```

5. 粘贴代码，`Ctrl+O` 保存，`Ctrl+X` 退出
6. 运行：

```bash
python3 hello_web.py
```

7. 指着屏幕说：

> "大家看，网页版AI的流程是这样的：你问AI → AI给代码 → 你复制 → 你切到终端 → 你粘贴保存 → 你运行。中间要来回切窗口，步骤很多。现在看 Claude Code 怎么做同样的事。"

### 动作——Claude Code演示（3分钟）

1. 在终端中输入：

```bash
cd ~/learning
claude
```

2. 等 Claude Code 启动后，输入：

```
写一个Python程序 hello_cc.py，打印"hello world"
```

3. Claude Code 会自动创建文件并写入代码
4. 确认后（按 y 或回车接受），输入 `/exit` 退出 Claude Code
5. 运行：

```bash
python3 hello_cc.py
```

6. 指着屏幕说：

> "看到了吗？同样的事情，Claude Code 一步就做完了。你只管说需求，它帮你写好文件，你直接运行就行。不用复制粘贴，不用切窗口。"

### 讲师说（总结对比）

> "我来总结一下这两种方式的区别："

（投影显示对比表）

```
网页版AI：
  你问 → AI答 → 你复制 → 你粘贴保存 → 你运行 → 出错回去问 → 再复制……

Claude Code：
  你说需求 → 它写好文件 → 你运行 → 出错你告诉它 → 它直接改 → 你再运行

区别：Claude Code 能直接操作你电脑上的文件，不需要你当搬运工。
```

> "网页版AI像是一个只能发微信的助手——它告诉你代码怎么写，但你得自己动手搬过去。Claude Code 像是一个坐在你旁边的搭档——你说要什么，它直接在你电脑上帮你干。
>
> 从这节课开始，我们就主要用 Claude Code 来写程序了。"

### 学员屏幕

此时学员只需要看讲师投影，不需要自己操作。

### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| 学员问"为什么之前不教这个" | 合理疑问 | "前面几节是打基础，你得先知道终端怎么用、代码是什么，才能理解Claude Code在干什么。现在基础有了，升级工具就水到渠成了。" |
| Claude Code 启动报错 | API或网络问题 | 梅杭俊立即检查，讲师继续用自己电脑演示，不中断教学 |

---

## 环节三：完整开发工作流演示（12分钟）

> 用一个真实小任务演示从需求到交付的完整流程。学员先看讲师演示，下一个环节再自己动手。

### 讲师说（引入任务）

> "刚才看了对比，现在我来完整演示一次用 Claude Code 做开发的流程。我会用一个真实的小任务走一遍。
>
> 先说一个很重要的习惯：**开始写代码之前，先想清楚'什么算做完了'。** 这叫'先定义成功标准'。不然你写了半天不知道写没写对。"

### 3.1 定义需求（2分钟）

#### 讲师说

> "我的需求是这样的：我有一个文件夹，里面放了好几个txt文件，每个文件是一篇短文。我想让程序帮我统计每个文件有多少个字，然后生成一张汇总表。
>
> 在写代码之前，我先想清楚'成功是什么样的'——运行程序后，我应该看到一张表，列出每个文件名和对应的字数。这就是我的成功标准。"

#### 动作

投影展示需求和成功标准：

```
需求：统计文件夹里所有txt文件的字数，生成汇总表

成功标准：
  运行程序后看到类似这样的输出：
  文件名          字数
  note1.txt       156
  note2.txt       283
  note3.txt       97
```

### 3.2 用Claude Code生成代码（3分钟）

#### 动作

1. 确认测试文件已准备好（课前检查时放入的）：

```bash
cd ~/learning/demo_files
ls
```

应看到几个txt文件（如 `note1.txt`、`note2.txt`、`note3.txt`）

2. 启动 Claude Code：

```bash
claude
```

3. 输入需求：

```
帮我写一个Python程序 word_count.py，功能是：
读取当前文件夹里所有txt文件，统计每个文件的中文字数（不算空格和换行），
然后打印一张汇总表，格式是"文件名  字数"，每个文件一行。
```

4. Claude Code 生成代码并创建文件，讲师确认接受

#### 讲师说

> "大家看，我只用一句话说了需求，Claude Code 就帮我把代码写好了，文件也自动创建好了。我都不用自己保存。现在来运行看看结果对不对。"

### 3.3 运行并验证（2分钟）

#### 动作

1. 退出 Claude Code：`/exit`
2. 运行程序：

```bash
python3 word_count.py
```

3. 对照成功标准检查输出

#### 讲师说

（如果结果正确）
> "看，输出了每个文件的字数，格式也对。跟我之前定义的成功标准一对比——没问题，第一步就过了。"

（如果结果有小问题——这更好，可以演示调试）
> "输出来了，但好像跟我预期的不太一样——比如格式不对或者字数算法有偏差。没关系，这恰好让我演示下一步：怎么让AI帮你修。"

### 3.4 追加需求和调试（3分钟）

#### 动作

1. 重新启动 Claude Code：`claude`
2. 输入追加需求：

```
修改 word_count.py，把汇总表按字数从多到少排序，
并且在最后加一行显示所有文件的总字数。
```

3. Claude Code 修改代码
4. 确认接受后退出：`/exit`
5. 再次运行：

```bash
python3 word_count.py
```

#### 讲师说

> "看，我追加了一个需求——排序加总计。Claude Code 直接改好了，我再运行就看到新结果了。整个过程我没有写一行代码，但我始终知道程序在干什么，也始终在检查结果对不对。
>
> 如果这里运行报错了怎么办？更简单——把报错信息直接给Claude Code看，让它自己修。"

### 3.5 讲解项目结构（2分钟）

#### 动作

在终端执行 `ls`，展示当前文件夹内容

#### 讲师说

> "现在来看看我们这个小项目的结构。运行 `ls` 看一下："

（投影展示）

```
demo_files/
├── note1.txt          ← 输入数据
├── note2.txt          ← 输入数据
├── note3.txt          ← 输入数据
└── word_count.py      ← 代码文件

运行程序后，输出结果打印在终端上。
```

> "一个项目就是一个文件夹，里面有代码文件和数据文件。代码读数据、处理数据、输出结果。后面做实践项目，结构都是这个套路。"

### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| Claude Code 生成的代码运行报错 | AI生成代码偶尔有bug | 正好演示调试流程：重启claude，把报错信息贴给它，让它修 |
| Claude Code 响应很慢 | 网络或API延迟 | 跟学员说"等一下，AI在思考"，利用等待时间口头讲解 |
| 学员问"这个代码怎么理解" | 对代码内容好奇 | 简单解释核心逻辑即可，不需要逐行讲。"关键是这几行：打开文件、读内容、数字数。具体语法不用记，以后遇到了再说" |

---

## 环节四：练习（7分钟）

### 任务说明

| 序号 | 任务 | 完成标准 |
|:---:|:---|:---|
| 1 | 启动Claude Code，让它帮你写一个程序：读取 `demo_files` 里的所有txt文件，找出字数最多的那个文件，打印它的文件名和字数 | 运行程序后，正确输出字数最多的文件名和字数 |
| 2 | 在任务1的基础上追加需求：同时找出字数最少的文件，一起输出 | 运行程序后，同时显示最多和最少的文件信息 |
| 3 | （选做/快的同学）故意把代码里某个地方改错（比如删掉一个引号），运行报错后让Claude Code帮你修 | Claude Code能定位并修复错误 |

### 讲师说

> "现在轮到大家动手了。回到你们自己的电脑上，进入 `~/learning/demo_files` 目录，启动Claude Code。任务在屏幕上，先做任务1，做完的做任务2。先完成的同学帮一下旁边还在做的。
>
> 提醒一下：在让Claude Code干活之前，先想一下'做完了我应该看到什么'。这就是我们刚才说的——先定义成功标准。
>
> 开始吧。"

### 动作

- 投影保持显示任务内容和常用命令速查
- 讲师和助教分开巡场

### 巡场要点

- **重点观察**：学员能不能用自己的话描述需求给Claude Code（不是照抄投影上的提示词）
- **常见问题**：
  - 学员不知道怎么进入目录 → 提示：`cd ~/learning/demo_files`
  - 学员忘了怎么启动Claude Code → 提示：直接输入 `claude`
  - 学员不知道怎么退出Claude Code → 提示：输入 `/exit`
  - Claude Code 没有按预期创建文件 → 提示学员看一下Claude Code的回复，是否需要确认
- **先完成的学员**：引导去帮助未完成的同学。如果全班都快，引导做任务3
- **如果大部分人卡在同一个地方**：暂停练习，统一讲解
- **时间管理**：5分钟时提醒"还剩2分钟，做到哪算哪"

### 学员屏幕

练习完成后，学员应该看到：
- 终端中用Claude Code创建了新的Python程序
- 运行程序后正确输出了字数最多（和最少）的文件信息

### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| 学员把需求描述得太模糊 | 不知道怎么跟AI说 | 走过去提示："你想让程序做什么？用自己的话跟它说就行" |
| Claude Code 一直在"思考"不出结果 | API延迟 | 让学员等一会儿，或者退出重进试试 |
| 程序运行输出不对 | 代码逻辑问题 | 引导学员把运行结果和期望结果告诉Claude Code，让它自己改 |
| 学员习惯性去网页版AI | 惯性 | 温和提醒："试试直接在终端里跟Claude Code说，不用切浏览器" |

---

## 环节五：开发方法论总结 + 课后小结（5分钟）

### 讲师说（方法论总结，3分钟）

> "好，练习到这里。不管做到哪一步都没关系，后面5节实践课会反复练。
>
> 现在我来总结一下今天最重要的东西——开发工作流。以后你们不管做什么项目，都是这个流程："

（投影显示）

```
完整开发工作流：

  ① 定义需求 → 想清楚"要做什么"和"做完了什么样"
  ② AI写代码 → 用Claude Code描述需求，让它帮你写
  ③ 读懂代码 → 大概看一下代码在干什么（不用逐行理解）
  ④ 运行验证 → 跑一下看结果对不对
  ⑤ 发现问题 → 结果不对？报错了？
  ⑥ 描述问题 → 把问题告诉Claude Code，让它改
  ⑦ 再次验证 → 改完了再跑，直到结果满意
```

> "这七步就是我们的开发方法论。注意，'你'负责的是第①③④⑤步——定义需求、读懂代码、运行验证、发现问题。'AI'负责的是第②⑥步——写代码和改代码。你是指挥，AI是干活的。
>
> 还记得我们的考核标准吗？"

（投影显示）

```
L1 能用：能走通 ①→②→④ 这个流程
L2 能调：能做到 ③读懂 和 ⑤⑥有方向地调整
L3 能交付：能把这个流程跑到部署上线
```

> "你们现在至少是L1了——能走通流程。后面5节实践课的目标就是把大家推到L2。"

### 讲师说（课后小结，2分钟）

> "最后总结一下今天学了什么。
>
> **第一**，阶段检查。刚才那个小任务，把前7节的东西串了一遍——搜索找信息、AI帮写代码、终端运行。这是基础功，后面还会反复用到。
>
> **第二**，Claude Code。它跟网页版AI最大的区别是：能直接操作你电脑上的文件，能直接运行代码，出了错能直接改。不用你来回复制粘贴了。
>
> **第三**，开发工作流。定义需求 → AI写代码 → 运行 → 发现问题 → AI修 → 再验证。这套流程后面每节课都会用。
>
> 今天是基础课的最后一节。从下节课开始，我们进入实践阶段——用真实的项目来练手。第一个实践项目是自动化脚本。大家回去把今天的流程在脑子里过一遍，下节课直接上手做项目。"

### 指定下节课回顾学员

> "下节课的开场回顾，由XXX来讲。你讲讲今天这节课学了什么就行，不用准备太多。"

### 布置课后任务（可选）

- 自己在Claude Code里试着让它写一个小程序（什么功能都行），把完整流程走一遍
- 下节课开头可以分享自己课后做了什么

---

## FAQ

### Q1：Claude Code和网页版AI到底有什么区别？我什么时候用哪个？

> **讲师回答**："最大的区别就是Claude Code能直接操作你电脑上的文件——写代码、改代码、运行程序，你不用来回复制粘贴。写代码的时候用Claude Code，效率比网页版高很多。但如果你只是想问问题、查个东西，网页版AI也够用。简单说：写代码用Claude Code，查东西用网页版。"

### Q2：Claude Code会不会把我电脑上的文件搞坏？

> **讲师回答**："好问题。Claude Code在做操作之前会问你确认——它会显示它要做什么，你同意了才会执行。所以养成一个习惯：看清楚它要干什么再按确认。特别是删除文件的操作，一定要看清楚。另外，我们课上都在专门的学习目录里操作，不会影响其他文件。"

### Q3：如果Claude Code给的代码运行报错了怎么办？

> **讲师回答**："报错是正常的，AI不是百分之百准确。处理方法很简单：把报错信息复制下来，重新启动Claude Code，把报错信息给它看，让它自己改。这就是我们说的'调试循环'——运行、报错、修、再运行。程序员每天都在干这个事。"

### Q4：后面的实践课难度会大很多吗？我怕跟不上。

> **讲师回答**："实践课的项目会比今天复杂一些，但方法是一样的——定义需求、AI写代码、运行验证。你今天能走通这个流程，后面就没问题。而且实践课是大家一起做，不是考试，卡住了有老师和同学帮你。"

### Q5：我回去自己练的话，API会不会要花钱？

> **讲师回答**："这个要看具体情况。课上用的API是咱们统一提供的，不用你们花钱。自己回去练的话，可以先用免费额度。如果额度用完了，下节课告诉我，我帮你想办法。不要因为怕花钱就不练了——练习比什么都重要。"

---

## 时间应急方案

### 如果时间超了，按优先级砍

1. **第一刀：缩短练习环节**。任务2和任务3不做，只做任务1。省下3分钟。
2. **第二刀：缩短项目结构讲解**（环节三的3.5节）。一句话带过："一个项目就是一个文件夹，里面有代码和数据。"省下2分钟。
3. **第三刀：缩短方法论总结**。只投影工作流七步，口头快速过一遍。省下2分钟。

**绝对不砍的内容**：
- 中间检查点（环节一）：这是基础课收官的关键评估
- Claude Code演示（环节二）：这是本节核心新内容
- 完整工作流演示（环节三的3.1-3.4）：这是后续实践课的方法论基础

---

## 课后记录模板

> 每次课后，讲师花5分钟填写以下记录。

### 阶段检查结果记录

| 学员 | 检查点完成度 | 卡在哪一步 | 实践课需关注 |
|:---|:---:|:---|:---|
| | | | |
| | | | |
| | | | |
| | | | |
| | | | |

### 课后三问

**1. 什么留下了印象？（学员反应最好的环节是什么？）**

```
记录：


```

**2. 什么有效？（哪个教学方法/例子效果好？）**

```
记录：


```

**3. 什么要改？（哪个环节卡壳了？时间分配需要调整吗？）**

```
记录：


```

### 补充记录

**学员出现的典型问题（记下来更新到FAQ中）：**

```
记录：


```

**个别学员需要关注的情况：**

```
记录：


```
