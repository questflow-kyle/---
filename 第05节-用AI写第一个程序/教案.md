---
title: "第5节：用AI写第一个程序"
date: 2026-02-19
tags: [赤耘, 培训, 计算机通识, 编程, Python, Claude Code]
category: 教案
status: draft
module: 基础课
session: 5
instructor: 沈林伟
assistant: 梅杭俊
---

# 第5节：用AI写第一个程序

## 概要

> 这是学员第一次用 Claude Code 写程序。核心体验是"你说中文需求，AI写代码，你运行看结果"。
>
> **教学方法是反过来的**：不是先教概念再写代码，而是先让AI写出代码、学员运行看到结果，再回过头逐行读懂。这样学员先有成就感，再有理解。
>
> 本节结束后，每位学员都亲手用 Claude Code 生成并运行了至少一个完整的 Python 程序，并且能指出代码中"哪一行做了什么"。

---

## 教案

### 课时信息

- 所属阶段：基础课（第5节/共8节）
- 主讲：沈林伟
- 辅助：梅杭俊（巡场答疑、帮助卡住的学员）
- 时长：45 分钟

### 教学目标

学完本节课，学员能够：
1. 理解"编程 = 给电脑写一份一步步的操作手册"
2. 用 Claude Code 生成一个 Python 程序，并在终端运行它
3. 逐行读懂生成的代码：知道变量、`print`、`input` 各自在做什么
4. 自己动手修改代码中的一个地方（改问候语、加一个问题），然后再次运行

### 时间分配

| 环节 | 时长 | 内容 |
|:---:|:---:|:---|
| 一 | 5分钟 | 学员回顾上节课 |
| 二 | 3分钟 | 编程是什么 |
| 三 | 12分钟 | 用 Claude Code 写第一个程序（演示） |
| 四 | 10分钟 | 一起读代码 |
| 五 | 15分钟 | 学员练习 |

---

## 逐环节剧本

### 环节一：学员回顾上节课（5分钟）

> **设计意图**：同伴教学——让学员练习"把学到的东西讲给别人听"的能力。从第4节起每节课都有这个环节。

**讲师台词**：

> "上节课我们做了两件大事：认识了电脑硬件，还搭好了开发环境。现在请一位同学来给大家回顾一下。不用紧张，说说你记住的就行。"

**操作**：
1. 点一位学员上来（如果没人主动，讲师点名，优先选上节课表现积极的）
2. 让学员说说上节课学了什么，2-3分钟即可
3. 讲师补充要点，确认以下关键知识被提到：
   - 电脑的核心部件：CPU（大脑）、内存（工作台）、硬盘（仓库）
   - 终端（WSL）：跟电脑说话的地方
   - `ls`（列文件）、`cd`（进目录）、`pwd`（当前位置）
   - Python 环境已经就绪（`python3 --version` 能输出版本号）
   - Claude Code 已经装好（`claude` 命令能启动）

**讲师台词（补充时）**：

> "说得很好。我再强调一个点：上节课最后我们验证了 Claude Code 能用。今天这节课，我们就要真正用它来写程序了。"

**如果学员回顾不出来**：不要批评，讲师自己快速过一遍要点，30秒即可。重点是让学员感受到"你们可以当老师"，而不是考试。

---

### 环节二：编程是什么（3分钟）

> **设计意图**：用一个生活比喻建立认知，不讲技术细节。3分钟点到即止。

**讲师台词**：

> "今天我们要开始写程序了。先说一个问题：编程到底是什么？"
>
> "你们有没有写过菜谱？或者看过组装家具的说明书？就是那种'第一步做什么、第二步做什么'的东西。"
>
> "编程就是给电脑写一份这样的操作手册。电脑很听话，但是很笨——你让它做什么它就做什么，但你不说它就不动。所以你得把每一步都写清楚。"
>
> "为什么学这个？因为一旦你把操作手册写好了，电脑可以帮你重复做一万次，不累、不出错。比如批量改文件名、自动算工资、整理数据——这些重复劳动都可以让电脑帮你干。"
>
> "但是呢，我们这门课不是要你从零开始学怎么写代码。我们的方法是：**你告诉AI你要什么，AI帮你写代码，你运行它、读懂它、改它**。就像你不用自己造汽车，但你要会开车、会看仪表盘。"

**板书/投影**（可选）：
```
编程 = 给电脑写操作手册

我们的方法：
你说需求 → AI写代码 → 你运行 → 你读懂 → 你修改
```

---

### 环节三：用 Claude Code 写第一个程序（12分钟）

> **设计意图**：讲师全程投影演示，学员先看不动手。分两步走：先生成最简单的打招呼程序，再让AI加上交互功能。让学员看到完整的"对话→生成→运行"流程。

#### 第一步：生成一个简单的打招呼程序（6分钟）

**讲师台词**：

> "好，现在大家看我的屏幕。我打开终端，先进到一个工作目录。"

**讲师操作**（投影）：

```bash
cd ~
mkdir -p learning
cd learning
```

**讲师台词**：

> "我建了一个叫 learning 的文件夹，以后写的代码都放这里。现在启动 Claude Code。"

**讲师操作**：

```bash
claude
```

**讲师台词**：

> "Claude Code 启动了。注意看，这不是一个普通的聊天窗口——它能直接在你的电脑上创建文件、运行代码。现在我用中文告诉它我要什么。"

**在 Claude Code 中输入**：

```
写一个Python程序 hello.py，功能是打印一句"你好，欢迎来到编程的世界！"
```

**讲师台词（等待AI生成时说）**：

> "大家注意看，它在做什么。它会创建一个文件，文件名是 hello.py，然后把代码写进去。"

**预期 Claude Code 的行为**：
- Claude Code 会创建文件 `hello.py`
- 它可能会请求你确认允许创建文件（按 y 同意）
- 文件内容大致如下：

```python
print("你好，欢迎来到编程的世界！")
```

> **注意**：Claude Code 生成的代码可能会稍有不同，比如加了注释、加了 `# -*- coding: utf-8 -*-` 之类的。都没关系，核心是有 `print` 这一行就对了。

**讲师台词**：

> "好，文件创建好了。现在退出 Claude Code，我们来运行这个程序。"

**退出 Claude Code**：输入 `/exit` 或按 `Ctrl+C`

**运行程序**：

```bash
python3 hello.py
```

**预期输出**：

```
你好，欢迎来到编程的世界！
```

**讲师台词（指着输出）**：

> "看到了吗！这就是你的第一个程序的运行结果。你告诉AI要什么，AI写了代码，你运行了它，电脑就照着操作手册干活了——把这句话打印在屏幕上。"
>
> "就这么简单。先别急着自己动手，我们再做一件事。"

#### 第二步：让AI给程序加上交互功能（6分钟）

**讲师台词**：

> "刚才那个程序只是打印一句固定的话，有点无聊。我想让它变得更有意思——让它先问你叫什么名字，然后用你的名字打招呼。怎么做？我再问 Claude Code。"

**讲师操作**：重新启动 Claude Code

```bash
claude
```

**在 Claude Code 中输入**：

```
修改 hello.py，让它先问用户叫什么名字，然后用用户的名字打招呼。比如用户输入"小明"，程序输出"小明，你好！欢迎来到编程的世界！"
```

**预期 Claude Code 的行为**：
- Claude Code 会修改 `hello.py` 文件
- 它可能会请求确认修改（按 y 同意）
- 修改后的代码大致如下：

```python
name = input("请输入你的名字：")
print(f"{name}，你好！欢迎来到编程的世界！")
```

> **可能的变体**：
> - 可能写成 `print(name + "，你好！欢迎来到编程的世界！")` （字符串拼接写法）
> - 可能加了注释行（以 `#` 开头的行）
> - 可能多打了一句 `print("程序结束")` 之类的
>
> **都没关系**。关键是有 `input` 和 `print` 这两个核心功能就对了。后面读代码环节会统一解释。

**讲师台词**：

> "好，它改好了。注意它做了什么——它没有重新创建文件，而是修改了原来的 hello.py。我们来运行看看。"

**退出 Claude Code 并运行**：

```bash
python3 hello.py
```

**预期交互过程**：

```
请输入你的名字：
```
（讲师输入"林伟"，按回车）
```
林伟，你好！欢迎来到编程的世界！
```

**讲师台词（语气要兴奋一点，带动气氛）**：

> "看到了！这次程序不是自己说话了，它在等我输入。我输入了我的名字，它就用我的名字跟我打招呼。这就是一个有交互功能的程序。"
>
> "整个过程我没有自己写一行代码——我只是用中文告诉 Claude Code 我要什么，它帮我写的。但是，光让AI写还不够，我们得读懂它写了什么。下面我们一起来看这段代码。"

---

### 环节四：一起读代码（10分钟）

> **设计意图**：这是本节课最重要的教学环节。逐行读代码，每一行用生活比喻解释。目标不是记住语法，而是"看到这行代码知道它在做什么"。

**讲师操作**：在终端中查看代码

```bash
cat hello.py
```

**投影展示代码**（假设生成的是这个版本）：

```python
name = input("请输入你的名字：")
print(f"{name}，你好！欢迎来到编程的世界！")
```

> **如果实际生成的代码跟上面不一样**：没关系，按实际生成的代码讲。核心概念是一样的。如果AI加了注释或其他行，也一并解释。

**讲师台词**：

> "一共就两行代码。我们一行一行来看。"

#### 第一行：`name = input("请输入你的名字：")`

**讲师台词**：

> "先看第一行。这一行其实做了两件事。"
>
> "先看右边：`input("请输入你的名字：")`。`input` 是英文'输入'的意思。这行的意思是：在屏幕上显示引号里面的这句话'请输入你的名字'，然后程序停下来，等你打字。你打完按回车，程序才继续往下走。"
>
> "再看左边：`name = ...`。这个 `name` 是一个**变量**。"
>
> "什么是变量？你们可以把它想象成一个**贴了标签的盒子**。这个盒子上面贴的标签叫 `name`，盒子里装的是什么？就是你刚才输入的那个名字。我刚才输入了'林伟'，所以现在 `name` 这个盒子里装的就是'林伟'两个字。"
>
> "中间那个等号 `=`，在编程里不是'等于'的意思，而是'把右边的东西放到左边的盒子里'。"

**板书/投影**（可选，画一个简单示意图）：

```
name = input("请输入你的名字：")

       ┌──────┐
name → │ 林伟  │  ← 用户输入的内容装进了盒子
       └──────┘

input  = 显示提示文字，等用户输入
=      = 把右边的结果放进左边的盒子
name   = 盒子的名字（变量）
```

#### 第二行：`print(f"{name}，你好！欢迎来到编程的世界！")`

**讲师台词**：

> "再看第二行。`print` 是英文'打印'的意思，在编程里就是'把东西显示在屏幕上'。"
>
> "括号里面是要显示的内容。注意看这个 `f"..."` ——前面有个小写的 f，这表示这个字符串里面可以嵌入变量。"
>
> "大括号 `{name}` 的意思是：把 `name` 这个盒子里装的东西拿出来，放到这个位置。所以如果 name 里面是'林伟'，最后显示的就是'林伟，你好！欢迎来到编程的世界！'"

**板书/投影**（可选）：

```
print(f"{name}，你好！欢迎来到编程的世界！")

print     = 在屏幕上显示内容
f"..."    = 里面可以放变量
{name}    = 从 name 盒子里取出内容
```

#### 汇总

**讲师台词**：

> "我们来总结一下。这个程序就两行代码，做了三件事：
> 1. 显示提示，等用户输入名字
> 2. 把输入的名字存到一个叫 `name` 的盒子里
> 3. 用这个名字拼出一句问候语，显示在屏幕上
>
> "今天需要记住的就三个词：
> - **变量**：贴了标签的盒子，用来存东西
> - **input**：等用户输入
> - **print**：在屏幕上显示

**讲师台词（过渡到练习）**：

> "好，现在轮到你们了。每个人用 Claude Code 写一个程序，然后运行它、读懂它、改它。"

---

### 环节五：学员练习（15分钟）

> **设计意图**：每位学员独立操作一遍完整流程。梅杭俊巡场帮助卡住的学员。先完成的学员帮助还没完成的同学（同伴教学）。

**讲师台词**：

> "现在每个人在自己的电脑上做以下事情。跟着我说的步骤来。"

#### 练习任务

**任务一（必做，8分钟）：用 Claude Code 写一个自我介绍程序**

> "第一步，打开终端，进入 learning 文件夹。"

```bash
cd ~/learning
```

> "第二步，启动 Claude Code。"

```bash
claude
```

> "第三步，输入下面这段话——你可以看着我的投影打字："

**投影显示要输入的内容**：

```
写一个Python程序 intro.py，功能是：
1. 问用户叫什么名字
2. 问用户来自哪里
3. 问用户最喜欢吃什么
4. 把这些信息组合起来，输出一段自我介绍
```

> "Claude Code 会帮你创建 intro.py 文件。如果它问你是否允许创建文件，按 y 同意。"
>
> "创建好之后，退出 Claude Code（输入 `/exit`），然后运行程序。"

```bash
python3 intro.py
```

> "程序会问你三个问题，你就正常回答，看看它输出什么。"

**预期 Claude Code 生成的代码大致如下**：

```python
name = input("请输入你的名字：")
hometown = input("请输入你来自哪里：")
food = input("请输入你最喜欢吃什么：")

print(f"大家好！我叫{name}，来自{hometown}，最喜欢吃{food}。很高兴认识大家！")
```

> **可能的变体**：
> - 变量名可能不同（如 `city` 代替 `hometown`）
> - 输出格式可能不同（可能分多行输出）
> - 可能加了注释
> - 可能多了一些装饰性的输出（如分隔线）
>
> **这些都没关系**。讲师巡场时如果看到学员的代码跟自己的不一样，要主动说"这很正常，AI每次写的不完全一样，但功能是一样的"。

**任务二（必做，7分钟）：修改代码**

**讲师台词**：

> "运行成功了对不对？好，现在我们来改一下这个程序。你有两个选择，任选一个：
>
> **选择A**：改问候语。再次启动 Claude Code，输入：'修改 intro.py，把最后的问候语改成更有趣的版本'。
>
> **选择B**：加一个新问题。再次启动 Claude Code，输入：'修改 intro.py，再加一个问题，问用户的爱好是什么，然后也加到自我介绍里'。
>
> 改完之后再运行一次，看看输出有什么变化。"

**投影显示两个选择**：

```
选择A - 改问候语：
修改 intro.py，把最后的问候语改成更有趣的版本

选择B - 加一个问题：
修改 intro.py，再加一个问题，问用户的爱好是什么，然后也加到自我介绍里
```

#### 巡场要点（梅杭俊 + 沈林伟）

巡场时重点关注以下情况：

| 情况 | 处理方式 |
|:---|:---|
| Claude Code 启动不了 | 检查上节课的安装是否成功，尝试 `claude --version`。如果确实没装好，这台电脑先用旁边同学的屏幕跟着看 |
| 提示 API 配额不足 | 检查 API key 是否配置正确。备用方案：用网页版 Claude 生成代码，手动复制到文件中 |
| 程序运行报错 | 不要慌，把报错信息复制给 Claude Code 让它帮忙修——这本身就是一种学习。讲师可以说"你看，AI还能帮你改bug" |
| "我的代码跟你的不一样" | 这是最常见的疑问。回答："AI每次写的不完全一样，就像你让两个人写同一个通知，用词不同但意思一样。只要运行出来功能对就行" |
| 学员提前完成 | 鼓励他去帮还没完成的同学。这就是同伴教学 |
| 打字太慢 | 梅杭俊可以帮学员打字，但要让学员口述要输入什么，不要代替学员思考 |

#### 练习结束收尾

**讲师台词（15分钟到时）**：

> "好，时间到了。做完的举手？"（看看完成情况）
>
> "今天我们做了一件很重要的事：你们每个人都用AI写了一个程序，运行了它，还改了它。这就是我们这门课后面要一直用的方法——你说需求，AI写代码，你运行、读懂、修改。"
>
> "今天记住三个词就够了：**变量**是盒子，**input**等输入，**print**显示结果。"
>
> "下节课我们会让AI写更复杂的代码——有判断、有循环的那种。不用怕，方法是一样的：AI写，你读，你改。"

---

## 常见问题与应对（FAQ）

### Q1：Claude Code 生成的代码和讲师演示的不一样

**这是最高频的问题**。

**回答模板**：
> "这很正常。AI就像一个程序员，你跟它说'写个打招呼的程序'，它可能写法A，你再问一次可能写法B。就像你让两个人写同一封信，用词不同但意思一样。只要你运行出来功能是对的，就没问题。"

**具体差异举例**：
- 变量名不同：有的叫 `name`，有的叫 `user_name` → 都行，只是盒子上贴的标签不同
- 有注释 vs 没注释：`#` 开头的行是注释，给人看的，电脑会跳过 → 有没有都不影响运行
- `f"..."` vs `"..." + name`：两种写法效果一样，只是拼接方式不同
- 多了空行或装饰性输出：不影响功能

### Q2：运行程序时报错 `SyntaxError`

**最常见原因**：中英文标点混用。

**讲师台词**：
> "你看这个报错，`SyntaxError` 意思是'语法错误'。最常见的原因是标点符号用成了中文的。编程里所有标点都要用英文的——英文的引号 `""`、英文的括号 `()`、英文的冒号 `:`。你可以把报错信息发给 Claude Code，让它帮你看看哪里错了。"

**操作演示**（如果需要）：
```bash
claude
```
输入：
```
运行 intro.py 报错了，错误信息是：[把报错内容粘贴进去]，请帮我修复
```

### Q3：运行程序时报错 `FileNotFoundError` 或 `No such file`

**原因**：不在正确的目录下。

**讲师台词**：
> "这个错误是说找不到文件。先检查你在哪个目录——输入 `pwd` 看看。然后输入 `ls` 看看当前目录下有没有你的文件。如果没有，用 `cd ~/learning` 切换到正确的目录再运行。"

### Q4：`input` 的时候程序"卡住了"

**原因**：学员不知道程序在等他输入。

**讲师台词**：
> "程序没有卡住，它在等你打字。你看屏幕上是不是有一个光标在闪？打完字按回车就好了。"

### Q5：学员问"为什么不直接教我们写代码"

**讲师台词**：
> "好问题。传统学编程是一行一行从零写。但你想想，现在有AI可以帮你写，效率高很多。我们要学的是怎么跟AI合作——你负责想需求、读懂代码、做调整，AI负责写。就像你不需要自己造汽车，但你要会开、会看仪表盘、会换轮胎。后面课程越来越深入，你会发现这个方法让你能做很多事情。"

### Q6：Claude Code 输出中出现英文，学员看不懂

**讲师台词**：
> "Claude Code 有时候会用英文跟你说话。没关系，你可以直接跟它说中文。如果它回复了英文，你输入'请用中文回答'就行。或者你可以在一开始就告诉它'请全程用中文跟我交流'。"

---

## 时间应急方案

### 如果前面环节超时了

| 剩余时间 | 调整方案 |
|:---:|:---|
| 只剩10分钟 | 跳过"任务二（修改代码）"，只做任务一。修改代码的练习留到下节课开头做 |
| 只剩5分钟 | 讲师在投影上快速演示一遍任务一的完整流程，学员观看。下节课前10分钟让学员自己做 |

### 如果进度比预期快

| 多余时间 | 加餐内容 |
|:---:|:---|
| 多5分钟 | 让完成的学员尝试：让 Claude Code 给程序加一个功能——根据名字长度输出不同的问候语 |
| 多10分钟 | 讲师演示一个稍复杂的例子：让 Claude Code 写一个简易计算器（输入两个数和运算符，输出结果），带着学员一起读代码 |

---

## 课后反思检查点

课后讲师团队用5分钟对照以下清单反思：

- [ ] 每位学员是否都成功运行了至少一个程序？（如果没有，是什么原因）
- [ ] 学员对"AI写代码→你运行→你读→你改"这个流程是否理解？
- [ ] 读代码环节学员是否有参与感？（有人点头/提问 vs 全程沉默）
- [ ] 有没有学员表现出明显的恐惧或抗拒？（需要后续关注）
- [ ] 哪些 Claude Code 的使用问题是没预料到的？（记录下来，更新FAQ）
- [ ] 梅杭俊作为辅助，巡场时发现的共性问题是什么？（下节课开头可以补充讲）
- [ ] 本节的时间分配是否合理？哪个环节需要调整？

---

## 板书/投影备忘

如果教室有白板或投影，建议全程保留以下内容：

```
今天的方法：
你说需求 → AI写代码 → 你运行 → 你读懂 → 你修改

三个新词：
变量 variable  = 贴了标签的盒子
print          = 在屏幕上显示内容
input          = 等用户输入

常用命令：
cd ~/learning          进入工作目录
claude                 启动 Claude Code
/exit                  退出 Claude Code
python3 文件名.py      运行程序
```
