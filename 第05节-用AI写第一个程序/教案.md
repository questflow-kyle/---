# 第5节：用AI写第一个程序 —— 剧本式教案

## 课时信息

| 项目 | 内容 |
|:---|:---|
| 所属阶段 | 基础课（第5节/共14节） |
| 主讲 | 沈林伟 |
| 辅助 | 梅杭俊（巡场答疑、帮助卡住的学员） |
| 时长 | 45 分钟 |
| 班级规模 | 5-10 人 |
| 前置课程 | 第4节-终端与开发环境 |

## 教学目标

学完本节课，学员能够：
1. 理解"编程 = 给电脑写一份一步步的操作手册"
2. 用 Claude Code 生成一个 Python 程序，并在终端运行它
3. 逐行读懂生成的代码：知道变量、`print`、`input` 各自在做什么
4. 自己动手修改代码中的一个地方（改问候语、加一个问题），然后再次运行

### 设计说明

> 本节课是学员第一次用AI写代码并运行。从课程体系看，这是人机协作模式的第一次升级：第3节建立的"AI生成内容→人验证排版"模式，从本节课开始变为"AI写代码→人运行、读懂、修改"。
>
> 教学方法是**反过来的**：不是先教编程概念再写代码，而是先让AI写出代码、学员运行看到结果，再回过头逐行读懂。这样学员先有成就感，再有理解。这个方法贯穿后续所有编程课。
>
> 有机整合体现在三个连接：
> 1. **信但验的延续**：第3节检查AI写的简历有没有编造经历，本节课"读懂AI写的代码"本质上是同一件事——验证AI的输出。只是验证对象从文字变成了代码。
> 2. **人机协作模式的升级**：第3节"AI写内容、你排版验证"→本节课"AI写代码、你运行读懂修改"。角色分工不变（AI负责生成，人负责验证和决策），复杂度提升。
> 3. **编程不是目的，是手段**：学员不需要从零学编程语法。他们需要掌握"说需求→AI写代码→运行→读懂→修改"这个工作流。这个定位贯穿第5-13节。

## 时间分配

| 环节 | 时长 | 累计 |
|:---|:---:|:---:|
| 一、学员回顾第4节 | 5分钟 | 0:05 |
| 二、编程是什么 | 3分钟 | 0:08 |
| 三、用Claude Code写第一个程序（演示） | 12分钟 | 0:20 |
| 四、一起读代码 | 10分钟 | 0:30 |
| 五、学员练习 | 13分钟 | 0:43 |
| 课后小结 | 2分钟 | 0:45 |
| 总计 | 45分钟 | 0:45 |

---

## 环节一：学员回顾第4节（5分钟）

> **设计意图**：同伴教学——让学员练习"把学到的东西讲给别人听"的能力。

### 讲师说

> "上节课我们做了两件大事：认识了电脑硬件，还第一次打开了终端和 Claude Code。现在请XXX（上节课指定的学员）来给大家回顾一下。不用紧张，说说你记住的就行。"

### 动作

1. 点上节课指定的学员上来（如果没人主动，讲师点名，优先选上节课表现积极的）
2. 让学员说2-3分钟，不打断
3. 讲师补充确认以下要点被提到

### 学员回顾要点（讲师心中有数，用于补充纠正）

上节课（第4节：终端与开发环境）的核心内容：
- 电脑硬件四件套：CPU（大脑）、内存（工作台）、硬盘（仓库）、主板（骨架）
- 终端基础命令：`pwd`（你在哪）、`ls`（有什么）、`cd`（进文件夹）、`mkdir`（建文件夹）
- Python 环境已就绪（`python3 --version` 能输出版本号）
- Claude Code 已可用（`claude` 命令能启动），它是网页版AI的升级版——能直接在电脑上创建文件、写代码、运行代码
- **信但验**：Claude Code 本质是同一个AI，能力更强，验证就更重要

### 讲师说（补充时）

> "说得很好，谢谢。我再强调一个关键点：上节课我们说了，Claude Code 是网页版AI的升级版，能直接操作你的电脑。但原则不变——**信但验**。今天我们就要真正体验这件事：让AI帮我们写代码，然后我们自己运行、读懂、确认它写的是对的。"

### 如果学员完全回顾不出来

不要批评。讲师自己用30秒快速过一遍要点。可以用提问引导："上节课那个黑屏的东西叫什么？""我们学了哪几个命令？""Claude Code 怎么启动来着？"

---

## 环节二：编程是什么（3分钟）

> **设计意图**：用一个生活比喻建立认知，不讲技术细节。3分钟点到即止。同时把编程跟前面课程的人机协作模式连接起来。

### 讲师说

> "今天我们要开始写程序了。先说一个问题：编程到底是什么？"
>
> "你们有没有写过菜谱？或者看过组装家具的说明书？就是那种'第一步做什么、第二步做什么'的东西。"
>
> "编程就是给电脑写一份这样的操作手册。电脑很听话，但是很笨——你让它做什么它就做什么，但你不说它就不动。所以你得把每一步都写清楚。"
>
> "为什么学这个？因为一旦你把操作手册写好了，电脑可以帮你重复做一万次，不累、不出错。比如批量改文件名、自动算工资、整理数据——这些重复劳动都可以让电脑帮你干。"
>
> "但是呢，我们不是要你从零开始学写代码。还记得前几节课的方法吗？AI帮你写简历内容，你来排版验证；AI帮你写 Excel 公式，你来手算验证。今天开始，**AI帮你写代码，你来运行、读懂、修改**。方法是一样的——你负责说清楚要什么，AI负责写，你负责验证。"

### 动作

投影展示：

```
编程 = 给电脑写操作手册

我们的方法（跟前面一样）：
你说需求 → AI写代码 → 你运行 → 你读懂 → 你修改
```

---

## 环节三：用 Claude Code 写第一个程序（12分钟）

> **设计意图**：讲师全程投影演示，学员先看不动手。分两步走：先生成最简单的打招呼程序，再让AI加上交互功能。让学员看到完整的"对话→生成→运行"流程。

### 3.1 生成一个简单的打招呼程序（6分钟）

#### 讲师说

> "好，现在大家看我的屏幕。我打开终端，先进到一个工作目录。"

#### 动作

讲师操作（投影）：

```bash
cd ~
mkdir -p learning
cd learning
```

#### 讲师说

> "我建了一个叫 learning 的文件夹，以后写的代码都放这里。现在启动 Claude Code。"

#### 动作

```bash
claude
```

#### 讲师说

> "Claude Code 启动了。注意看，这不是一个普通的聊天窗口——上节课说过，它能直接在你的电脑上创建文件、运行代码。现在我用中文告诉它我要什么。"

#### 动作

在 Claude Code 中输入：

```
写一个Python程序 hello.py，功能是打印一句"你好，欢迎来到编程的世界！"
```

#### 讲师说（等待AI生成时）

> "大家注意看，它在做什么。它会创建一个文件，文件名是 hello.py，然后把代码写进去。"

#### 学员屏幕

此时学员只看投影。投影上应该能看到：
- Claude Code 创建了 `hello.py` 文件
- 可能请求确认允许创建文件（讲师按 y 同意）
- 文件内容大致为：

```python
print("你好，欢迎来到编程的世界！")
```

> **注意**：Claude Code 生成的代码可能会稍有不同，比如加了注释、加了编码声明。都没关系，核心是有 `print` 这一行就对了。

#### 讲师说

> "好，文件创建好了。现在退出 Claude Code，我们来运行这个程序。"

#### 动作

退出 Claude Code：输入 `/exit`

运行程序：

```bash
python3 hello.py
```

预期输出：

```
你好，欢迎来到编程的世界！
```

#### 讲师说（指着输出）

> "看到了吗！这就是你的第一个程序的运行结果。你告诉AI要什么，AI写了代码，你运行了它，电脑就照着操作手册干活了——把这句话打印在屏幕上。"
>
> "就这么简单。先别急着自己动手，我们再做一件事。"

### 3.2 让AI给程序加上交互功能（6分钟）

#### 讲师说

> "刚才那个程序只是打印一句固定的话，有点无聊。我想让它变得更有意思——让它先问你叫什么名字，然后用你的名字打招呼。怎么做？我再问 Claude Code。"

#### 动作

重新启动 Claude Code：

```bash
claude
```

在 Claude Code 中输入：

```
修改 hello.py，让它先问用户叫什么名字，然后用用户的名字打招呼。比如用户输入"小明"，程序输出"小明，你好！欢迎来到编程的世界！"
```

#### 学员屏幕

投影上应该能看到：
- Claude Code 修改了 `hello.py` 文件（不是重新创建）
- 修改后的代码大致为：

```python
name = input("请输入你的名字：")
print(f"{name}，你好！欢迎来到编程的世界！")
```

> **可能的变体**：
> - 可能写成 `print(name + "，你好！...")` （字符串拼接写法）
> - 可能加了注释行（以 `#` 开头的行）
> - 可能多了装饰性输出
>
> 都没关系。关键是有 `input` 和 `print` 这两个核心功能就对了。后面读代码环节会统一解释。

#### 讲师说

> "好，它改好了。注意它做了什么——它没有重新创建文件，而是修改了原来的 hello.py。我们来运行看看。"

#### 动作

退出 Claude Code 并运行：

```bash
python3 hello.py
```

预期交互过程：

```
请输入你的名字：
```
（讲师输入"林伟"，按回车）
```
林伟，你好！欢迎来到编程的世界！
```

#### 讲师说（语气要兴奋一点，带动气氛）

> "看到了！这次程序不是自己说话了，它在等我输入。我输入了我的名字，它就用我的名字跟我打招呼。这就是一个有交互功能的程序。"
>
> "整个过程我没有自己写一行代码——我只是用中文告诉 Claude Code 我要什么，它帮我写的。但是，光让AI写还不够——还记得我们的原则吗？**信但验**。我们得读懂它写了什么，确认它做的是我们想要的。下面我们一起来看这段代码。"

---

## 环节四：一起读代码（10分钟）

> **设计意图**：这是本节课最重要的教学环节。逐行读代码，每一行用生活比喻解释。目标不是记住语法，而是"看到这行代码知道它在做什么"。读懂代码就是"验证AI的输出"——信但验在编程场景中的具体体现。

### 动作

在终端中查看代码：

```bash
cat hello.py
```

投影展示代码（假设生成的是这个版本）：

```python
name = input("请输入你的名字：")
print(f"{name}，你好！欢迎来到编程的世界！")
```

> 如果实际生成的代码跟上面不一样，按实际生成的代码讲。核心概念是一样的。如果AI加了注释或其他行，也一并解释。

### 讲师说

> "一共就两行代码。我们一行一行来看。读懂代码这件事，就是我们一直在做的——**验证AI写的东西对不对**。第3节课你们检查AI写的简历有没有编造经历，现在你们检查AI写的代码是不是在做你想要的事情。方法不同，道理一样。"

### 第一行：`name = input("请输入你的名字：")`

#### 讲师说

> "先看第一行。这一行其实做了两件事。"
>
> "先看右边：`input("请输入你的名字：")`。`input` 是英文'输入'的意思。这行的意思是：在屏幕上显示引号里面的这句话'请输入你的名字'，然后程序停下来，等你打字。你打完按回车，程序才继续往下走。"
>
> "再看左边：`name = ...`。这个 `name` 是一个**变量**。"
>
> "什么是变量？你们可以把它想象成一个**贴了标签的盒子**。这个盒子上面贴的标签叫 `name`，盒子里装的是什么？就是你刚才输入的那个名字。我刚才输入了'林伟'，所以现在 `name` 这个盒子里装的就是'林伟'两个字。"
>
> "中间那个等号 `=`，在编程里不是'等于'的意思，而是'把右边的东西放到左边的盒子里'。"

#### 动作

投影展示（画一个简单示意图）：

```
name = input("请输入你的名字：")

       ┌──────┐
name → │ 林伟  │  ← 用户输入的内容装进了盒子
       └──────┘

input  = 显示提示文字，等用户输入
=      = 把右边的结果放进左边的盒子
name   = 盒子的名字（变量）
```

### 第二行：`print(f"{name}，你好！欢迎来到编程的世界！")`

#### 讲师说

> "再看第二行。`print` 是英文'打印'的意思，在编程里就是'把东西显示在屏幕上'。"
>
> "括号里面是要显示的内容。注意看这个 `f"..."` ——前面有个小写的 f，这表示这个字符串里面可以嵌入变量。"
>
> "大括号 `{name}` 的意思是：把 `name` 这个盒子里装的东西拿出来，放到这个位置。所以如果 name 里面是'林伟'，最后显示的就是'林伟，你好！欢迎来到编程的世界！'"

#### 动作

投影展示：

```
print(f"{name}，你好！欢迎来到编程的世界！")

print     = 在屏幕上显示内容
f"..."    = 里面可以放变量
{name}    = 从 name 盒子里取出内容
```

### 汇总

#### 讲师说

> "我们来总结一下。这个程序就两行代码，做了三件事：
> 1. 显示提示，等用户输入名字
> 2. 把输入的名字存到一个叫 `name` 的盒子里
> 3. 用这个名字拼出一句问候语，显示在屏幕上
>
> "今天需要记住的就三个词：
> - **变量**：贴了标签的盒子，用来存东西
> - **input**：等用户输入
> - **print**：在屏幕上显示
>
> "好，现在你们已经读懂了AI写的代码，确认它做的就是我们想要的——问名字、打招呼。这就是信但验在编程里的样子：**AI写代码，你读懂确认**。后面每次AI帮你写代码，都要过一遍这个流程。现在轮到你们自己动手了。"

---

## 环节五：学员练习（13分钟）

> **设计意图**：每位学员独立操作一遍完整流程。梅杭俊巡场帮助卡住的学员。先完成的学员帮助还没完成的同学（同伴教学）。

### 讲师说

> "现在每个人在自己的电脑上做以下事情。跟着我说的步骤来。不用急，做一步是一步。遇到问题举手，我和梅杭俊都在。"

### 任务一（必做，7分钟）：用 Claude Code 写一个自我介绍程序

#### 讲师说

> "第一步，打开终端，进入 learning 文件夹。"

```bash
cd ~/learning
```

> "第二步，启动 Claude Code。"

```bash
claude
```

> "第三步，输入下面这段话——你可以看着我的投影打字："

#### 动作

投影显示要输入的内容：

```
写一个Python程序 intro.py，功能是：
1. 问用户叫什么名字
2. 问用户来自哪里
3. 问用户最喜欢吃什么
4. 把这些信息组合起来，输出一段自我介绍
```

#### 讲师说

> "Claude Code 会帮你创建 intro.py 文件。如果它问你是否允许创建文件，按 y 同意。"
>
> "创建好之后，退出 Claude Code（输入 `/exit`），然后运行程序。"

```bash
python3 intro.py
```

> "程序会问你三个问题，你就正常回答，看看它输出什么。"
>
> "运行完之后，用 `cat intro.py` 看看代码，试着读懂每一行在做什么——应该能看到好几个变量（盒子）和 print、input。"

#### 学员屏幕

学员此时应该看到：
- Claude Code 创建了 `intro.py` 文件
- 运行后程序依次问三个问题，最后输出一段自我介绍
- 代码内容大致如下：

```python
name = input("请输入你的名字：")
hometown = input("请输入你来自哪里：")
food = input("请输入你最喜欢吃什么：")

print(f"大家好！我叫{name}，来自{hometown}，最喜欢吃{food}。很高兴认识大家！")
```

> **可能的变体**：变量名不同、输出格式不同、有注释、多了装饰性输出——都没关系。

#### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| Claude Code 启动不了 | 上节课安装未完成或环境有变 | 检查 `claude --version`。修不好就先用旁边同学的屏幕跟着看 |
| 提示 API 配额不足 | API key 过期或余额耗尽 | 备用方案：用网页版 Claude 生成代码，手动复制到文件中 |
| 程序运行报错 | 代码有语法错误 | 把报错信息复制给 Claude Code 让它帮忙修。讲师说"你看，AI还能帮你改bug" |
| "我的代码跟你的不一样" | AI每次生成的代码有差异 | "很正常，就像让两个人写同一封信，用词不同但意思一样。功能对就行" |

### 任务二（必做，6分钟）：修改代码

#### 讲师说

> "运行成功了对不对？好，现在我们来改一下这个程序。你有两个选择，任选一个：
>
> **选择A**：改问候语。再次启动 Claude Code，输入：'修改 intro.py，把最后的问候语改成更有趣的版本'。
>
> **选择B**：加一个新问题。再次启动 Claude Code，输入：'修改 intro.py，再加一个问题，问用户的爱好是什么，然后也加到自我介绍里'。
>
> 改完之后再运行一次，看看输出有什么变化。先做完的同学去帮旁边还没完成的。"

#### 动作

投影显示两个选择：

```
选择A - 改问候语：
修改 intro.py，把最后的问候语改成更有趣的版本

选择B - 加一个问题：
修改 intro.py，再加一个问题，问用户的爱好是什么，然后也加到自我介绍里
```

#### 可能的卡点

| 现象 | 原因 | 讲师应对 |
|:---|:---|:---|
| 打字太慢 | 学员打字不熟练 | 梅杭俊帮学员打字，但让学员口述要输入什么，不要代替学员思考 |
| 修改后运行报错 | AI修改代码时可能引入问题 | 再启动 Claude Code，输入"运行 intro.py 报错了，请帮我修复" |
| 不知道选A还是B | 选择困难 | "随便选一个就行，都很简单。选A的话一句话就搞定" |

### 练习结束收尾

#### 讲师说

> "好，时间到了。做完的举手？"（看看完成情况）
>
> "如果没全做完也没关系，下节课开头还会用到这些操作。"

---

## 课后小结（2分钟）

### 讲师说

> "今天我们做了一件很重要的事：你们每个人都用AI写了一个程序，运行了它，还读懂了它、改了它。
>
> 记住今天最重要的三件事：
>
> 第一，**方法**：你说需求，AI写代码，你运行、读懂、修改。这跟前面几节课是一样的——AI帮你干活，你来验证和做主。
>
> 第二，**三个新词**：变量是贴了标签的盒子，input 等用户输入，print 在屏幕上显示。
>
> 第三，**信但验不变**：AI写的代码你要读懂，确认它做的是你想要的。就像你不会把AI写的简历直接投出去一样，你也不应该对AI写的代码完全不看就用。
>
> 下节课我们会让AI写更复杂的代码——有判断、有循环的那种。不用怕，方法是一样的：AI写，你读，你改。"

### 指定下节课回顾人选

> "最后——下节课开头还是请一位同学回顾今天的内容。这次请XXX来讲。记住今天学了什么就行，用自己的话说，两三分钟。"

---

## FAQ

### Q1：Claude Code 生成的代码和讲师演示的不一样

> **这是最高频的问题。**
>
> **讲师回答**："这很正常。AI就像一个程序员，你跟它说'写个打招呼的程序'，它可能写法A，你再问一次可能写法B。就像你让两个人写同一封信，用词不同但意思一样。只要你运行出来功能是对的，就没问题。"
>
> **具体差异举例**：
> - 变量名不同：有的叫 `name`，有的叫 `user_name` → 都行，只是盒子上贴的标签不同
> - 有注释 vs 没注释：`#` 开头的行是注释，给人看的，电脑会跳过 → 有没有都不影响运行
> - `f"..."` vs `"..." + name`：两种写法效果一样，只是拼接方式不同
> - 多了空行或装饰性输出：不影响功能

### Q2：运行程序时报错 `SyntaxError`

> **讲师回答**："你看这个报错，`SyntaxError` 意思是'语法错误'。最常见的原因是标点符号用成了中文的。编程里所有标点都要用英文的——英文的引号 `""`、英文的括号 `()`、英文的冒号 `:`。你可以把报错信息发给 Claude Code，让它帮你看看哪里错了。"
>
> 操作：启动 `claude`，输入"运行 intro.py 报错了，错误信息是：[粘贴报错内容]，请帮我修复"

### Q3：运行程序时报错 `FileNotFoundError` 或 `No such file`

> **讲师回答**："这个错误是说找不到文件。先检查你在哪个目录——输入 `pwd` 看看。然后输入 `ls` 看看当前目录下有没有你的文件。如果没有，用 `cd ~/learning` 切换到正确的目录再运行。"

### Q4：`input` 的时候程序"卡住了"

> **讲师回答**："程序没有卡住，它在等你打字。你看屏幕上是不是有一个光标在闪？打完字按回车就好了。"

### Q5：学员问"为什么不直接教我们写代码"

> **讲师回答**："好问题。传统学编程是一行一行从零写。但你想想，现在有AI可以帮你写，效率高很多。我们要学的是怎么跟AI合作——你负责想需求、读懂代码、做调整，AI负责写。就像你不需要自己造汽车，但你要会开、会看仪表盘、会换轮胎。后面课程越来越深入，你会发现这个方法让你能做很多事情。"

### Q6：Claude Code 输出中出现英文，学员看不懂

> **讲师回答**："Claude Code 有时候会用英文跟你说话。没关系，你可以直接跟它说中文。如果它回复了英文，你输入'请用中文回答'就行。或者你可以在一开始就告诉它'请全程用中文跟我交流'。"

---

## 时间管理备注

### 正常节奏下的时间分配

| 环节 | 时长 | 累计 |
|:---|:---:|:---:|
| 学员回顾 | 5分钟 | 0:05 |
| 编程是什么 | 3分钟 | 0:08 |
| Claude Code 演示 | 12分钟 | 0:20 |
| 一起读代码 | 10分钟 | 0:30 |
| 学员练习 | 13分钟 | 0:43 |
| 课后小结 | 2分钟 | 0:45 |

### 如果时间超了，按优先级砍

1. **第一刀：缩短学员回顾**。讲师补充只用一句话带过。省下2分钟。
2. **第二刀：跳过任务二（修改代码）**。只做任务一。修改代码的练习留到下节课开头。省下6分钟。
3. **第三刀：缩短读代码环节**。只讲 `input` 和 `print`，变量的"盒子"比喻口头一句话带过，不画图。省下3分钟。

**绝对不砍的内容**：
- 环节三的完整演示（讲师演示"说需求→生成→运行"的完整流程）——这是核心体验
- 任务一（每位学员自己运行至少一个程序）——这是最低保证
- 课后小结中的信但验提醒和回顾人选指定

### 如果进度比预期快（多出5分钟）

追加一个小活动：

> "我们多练一个东西。大家启动 Claude Code，让它给你的 intro.py 加一个功能——根据名字长度输出不同的问候语。看看它怎么写。"

---

## 投影/板书备忘

建议全程在投影上保留以下内容（可以放在屏幕的一侧或底部）：

```
今天的方法（跟前面一样）：
你说需求 → AI写代码 → 你运行 → 你读懂 → 你修改

三个新词：
变量 variable  = 贴了标签的盒子
print          = 在屏幕上显示内容
input          = 等用户输入

常用命令：
cd ~/learning          进入工作目录
claude                 启动 Claude Code
/exit                  退出 Claude Code
python3 文件名.py      运行程序
cat 文件名.py          查看代码内容
```

---

## 课后记录模板

> 每次课后，讲师团队花5分钟填写以下记录。这份记录会帮助改进教案和帮助下一位讲师。

### 课后三问

**1. 什么留下了印象？（学员反应最好的环节是什么？）**

```
记录：


```

**2. 什么有效？（哪个教学方法/例子效果好？）**

```
记录：


```

**3. 什么要改？（哪个环节卡壳了？时间分配需要调整吗？例子需要更新吗？）**

```
记录：


```

### 补充记录

**编程恐惧情况：**

```
学员对"写程序"的第一反应：______
读代码环节学员参与感（1-5分）：____
哪些概念理解最快：______
哪些概念出问题最多：______
```

**Claude Code 使用情况：**

```
课上出现的 Claude Code 问题：______
已解决 / 未解决：______
每位学员是否都成功运行了至少一个程序：□ 是  □ 否（记录未成功的学员）
```

**同伴教学效果：**

```
学员回顾的质量（1-5分）：____
练习中是否出现了"先会的教后会的"：□ 有  □ 没有
```

**已指定第6节回顾人选：**

```
姓名：______
是否当面告知：□ 是  □ 否
```
