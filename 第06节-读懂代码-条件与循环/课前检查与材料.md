# 第6节：课前检查与材料

## 课前15分钟检查清单

课前15分钟到教室，按以下顺序逐项检查：

### 设备检查

- [ ] 投影仪开机，连接讲师电脑，画面正常
- [ ] 讲师电脑终端打开，字体大小调到后排能看清（建议18-20号字）
- [ ] 每台学员电脑开机，WSL 终端可正常打开
- [ ] 每台学员电脑 Python 可用：在终端输入 `python3 --version`，确认有输出
- [ ] 每台学员电脑 Claude Code 可用：在终端输入 `claude --version`，确认有输出

### 网络检查

- [ ] 教室 Wi-Fi 正常连接
- [ ] 在讲师电脑上测试 Claude Code 能正常响应：`claude "请说你好"`
- [ ] 在至少2台学员电脑上测试 Claude Code 能正常响应

### 练习环境准备

- [ ] 在**每台学员电脑**上创建本节课工作目录：
  ```bash
  mkdir -p ~/lesson06 && cd ~/lesson06
  ```
- [ ] 在**每台学员电脑**上创建练习用文件夹和文件：
  ```bash
  mkdir -p ~/lesson06/test_files
  cd ~/lesson06/test_files
  touch 报告1.txt 报告2.txt 报告3.txt 报告4.txt 报告5.txt
  ```
- [ ] 确认文件创建成功：`ls ~/lesson06/test_files/`，应看到5个 .txt 文件

### 备用代码准备

- [ ] 将下方"备用代码"部分的3份代码文件提前保存到讲师电脑的 `~/lesson06_backup/` 目录中，以防 Claude Code 不可用时直接复制使用

---

## 备用代码

> 如果上课时 Claude Code 响应太慢或不可用，直接把以下代码复制到学员电脑上使用。

### 备用代码1：工资计算器（wage.py）

```python
# 工资计算器
base_rate = 25  # 每小时基本工资

hours_overtime = float(input("请输入本月加班小时数："))

if hours_overtime > 0:
    overtime_pay = hours_overtime * base_rate * 1.5
    print(f"加班费：{overtime_pay} 元")
else:
    overtime_pay = 0
    print("本月没有加班费")

monthly_base = 22 * 8 * base_rate  # 22天 x 8小时
total = monthly_base + overtime_pay
print(f"基本工资：{monthly_base} 元")
print(f"应发工资：{total} 元")
```

讲师手动保存方式：
```bash
cat > ~/lesson06/wage.py << 'EOF'
# 工资计算器
base_rate = 25  # 每小时基本工资

hours_overtime = float(input("请输入本月加班小时数："))

if hours_overtime > 0:
    overtime_pay = hours_overtime * base_rate * 1.5
    print(f"加班费：{overtime_pay} 元")
else:
    overtime_pay = 0
    print("本月没有加班费")

monthly_base = 22 * 8 * base_rate  # 22天 x 8小时
total = monthly_base + overtime_pay
print(f"基本工资：{monthly_base} 元")
print(f"应发工资：{total} 元")
EOF
```

### 备用代码2：批量文件重命名器（rename.py）

```python
import os
from datetime import date

folder = "test_files"
today = date.today().strftime("%Y-%m-%d")

files = os.listdir(folder)

for filename in files:
    if filename.endswith(".txt"):
        old_path = os.path.join(folder, filename)
        new_name = f"{today}_{filename}"
        new_path = os.path.join(folder, new_name)
        os.rename(old_path, new_path)
        print(f"已重命名：{filename} → {new_name}")

print("全部完成！")
```

讲师手动保存方式：
```bash
cat > ~/lesson06/rename.py << 'EOF'
import os
from datetime import date

folder = "test_files"
today = date.today().strftime("%Y-%m-%d")

files = os.listdir(folder)

for filename in files:
    if filename.endswith(".txt"):
        old_path = os.path.join(folder, filename)
        new_name = f"{today}_{filename}"
        new_path = os.path.join(folder, new_name)
        os.rename(old_path, new_path)
        print(f"已重命名：{filename} → {new_name}")

print("全部完成！")
EOF
```

### 备用代码3：成绩检查器（grade_check.py）

```python
# 成绩检查器
students = {
    "张三": 75,
    "李四": 58,
    "王五": 92,
    "赵六": 43,
    "钱七": 61
}

print("=== 成绩检查结果 ===")
for name, score in students.items():
    if score >= 60:
        print(f"{name}（{score}分）：及格")
    else:
        print(f"{name}（{score}分）：不及格")

# 统计人数
pass_count = 0
fail_count = 0

for name, score in students.items():
    if score >= 60:
        pass_count += 1
    else:
        fail_count += 1

print(f"\n及格人数：{pass_count}")
print(f"不及格人数：{fail_count}")
```

讲师手动保存方式：
```bash
cat > ~/lesson06/grade_check.py << 'EOF'
# 成绩检查器
students = {
    "张三": 75,
    "李四": 58,
    "王五": 92,
    "赵六": 43,
    "钱七": 61
}

print("=== 成绩检查结果 ===")
for name, score in students.items():
    if score >= 60:
        print(f"{name}（{score}分）：及格")
    else:
        print(f"{name}（{score}分）：不及格")

# 统计人数
pass_count = 0
fail_count = 0

for name, score in students.items():
    if score >= 60:
        pass_count += 1
    else:
        fail_count += 1

print(f"\n及格人数：{pass_count}")
print(f"不及格人数：{fail_count}")
EOF
```

---

## 文件重命名练习恢复脚本

如果批量重命名演示后，需要恢复原始文件名以便学员练习，运行：

```bash
cd ~/lesson06/test_files
for f in *.txt; do
    new_name=$(echo "$f" | sed 's/^[0-9]\{4\}-[0-9]\{2\}-[0-9]\{2\}_//')
    if [ "$f" != "$new_name" ]; then
        mv "$f" "$new_name"
    fi
done
```

或者直接删掉重建：

```bash
rm -rf ~/lesson06/test_files
mkdir -p ~/lesson06/test_files
cd ~/lesson06/test_files
touch 报告1.txt 报告2.txt 报告3.txt 报告4.txt 报告5.txt
```

---

## 备用教学方案

### 场景：Claude Code 完全不可用

如果整堂课 Claude Code 都无法使用：

1. **演示环节**：直接使用上方备用代码，复制到文件中运行
2. **讲解方式不变**：逐行阅读代码的环节完全一样，只是代码来源从"Claude Code 生成"变成"讲师提供"
3. **学员练习**：把备用代码3直接发给学员，让他们运行后修改及格线
4. **跟学员说**："今天网络有问题，AI 工具暂时用不了。但没关系，这节课的重点是**读懂代码**，代码我直接给你们，我们一起来读。"

### 场景：个别学员电脑有问题

- 让该学员和旁边的同学共用一台电脑
- 梅杭俊优先协助排查该电脑问题

---

## 课前最后确认

| 确认项 | 状态 |
|:---|:---:|
| 投影可用 | [ ] |
| 所有电脑 Claude Code 可用 | [ ] |
| 练习文件已创建（每台电脑） | [ ] |
| 备用代码已就绪（讲师电脑） | [ ] |
| 讲师已通读教案一遍 | [ ] |

确认全部通过后，等学员到齐即可开课。
