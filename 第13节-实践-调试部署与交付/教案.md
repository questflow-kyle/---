# 第13节：实践 -- 调试、部署与交付

## 课时信息

| 项目 | 内容 |
|:---|:---|
| 所属阶段 | 实践课（第5节/共5节） |
| 主讲 | 沈林伟 |
| 辅助 | 尹伟（巡场、技术辅助） |
| 时长 | 45 分钟 |
| 前置要求 | 学员已完成第12节，有自选项目的初版代码 |

## 教学目标

学完本节课，学员能够：

1. 掌握基本的调试思路：读报错 → 缩小范围 → 定位问题 → 修复验证
2. 学会向 Claude Code 正确描述错误信息（不是"帮我修"，而是"第X行报了XX错误"）
3. 理解"部署"和"交付"的概念（让别人能用你的程序）
4. 把自选项目完善到可展示的状态，为第14节答辩做好准备

## 核心理念（上课前讲师务必读）

> **本节课是考核前最后的开发时间。** 目标不是教新知识，而是帮学员把项目从"能跑"变成"能交付"。
>
> 前半段集中讲两个实用方法论（调试 + 部署），后半段全部留给学员自己动手。讲师的角色是教练，不是讲台上的老师。
>
> **调试方法论是区分L1和L2的关键**——L1只是让AI修，L2能自己定位方向再让AI修。这个区别要在课上反复强调。
>
> 同伴互评在本节继续。上次互评是第一次尝试，这次学员有经验了，重点是看项目从上次到现在有没有改进。

---

## 教学流程

### 第一部分：学员回顾（5分钟）[0:00-0:05]

**讲师台词：**

> "上节课大家开始了自己的项目。谁来说说你做的是什么？现在进展到哪一步了？"

**操作：**
1. 请2-3位学员简要说说自己项目的进展（每人1分钟）
2. 重点关注：项目能跑了吗？遇到什么问题？

**讲师引导（如果学员说不出来）：**

> "没关系。你的项目现在能运行吗？如果能运行，你觉得还差什么？如果还不能运行，卡在什么地方？"

**讲师总结（30秒）：**

> "好，听下来大家的状态不太一样——有的已经能跑了，有的还卡在某个地方。今天这节课就是帮大家解决两件事：第一，程序有问题怎么查；第二，程序做完了怎么让别人也能用。"

---

### 第二部分：调试方法论（10分钟）[0:05-0:15]

> **设计意图**：这不是理论课，而是给学员一个实用的排错框架。用一个真实例子走一遍完整流程，让学员知道"报错不可怕，它是程序在告诉你哪里有问题"。

#### 2.1 概念引入（2分钟）

**讲师台词：**

> "开发程序的时候，报错是家常便饭。专业程序员写代码，一半时间都在调试。所以遇到报错不要慌，更不要直接把屏幕截图扔给AI说'帮我修'。"
>
> "调试有方法的。今天教大家四步法。"

**板书/投影：**

```
调试四步法：
1. 读报错 —— 看最后一行，它通常直接说了是什么错
2. 缩小范围 —— 是代码逻辑错了？环境问题？还是输入数据问题？
3. 定位问题 —— 找到出错的那一行或那一段
4. 修复验证 —— 改了之后重新运行，确认问题解决
```

#### 2.2 实例演示（5分钟）

**讲师台词：**

> "我来演示一下。假设我写了一个工资计算的程序，运行的时候报错了。"

**讲师操作（投影演示）：**

在终端运行一个故意写错的程序：

```python
# demo_bug.py —— 故意留了bug的示例
workers = ["张三", "李四", "王五"]
wages = [3500, 4200, 3800]

for i in range(len(workers)):
    total = wages[i] + overtime[i]  # bug: overtime 没有定义
    print(f"{workers[i]} 的工资是 {total} 元")
```

运行后会报错：

```
NameError: name 'overtime' is not defined
```

**讲师逐步演示四步法：**

| 步骤 | 讲师说 | 讲师做 |
|:---|:---|:---|
| 第1步：读报错 | "看最后一行：`NameError: name 'overtime' is not defined`。它说有个叫 `overtime` 的东西没有定义。" | 用手指/光标指向报错最后一行 |
| 第2步：缩小范围 | "这是什么问题？不是环境问题，不是输入问题，是代码里用了一个不存在的变量。" | 排除其他可能性 |
| 第3步：定位问题 | "报错信息还告诉了我们是第5行出的错。我们去看第5行——`wages[i] + overtime[i]`——果然，`overtime` 这个列表我们根本没有创建。" | 打开文件，看第5行 |
| 第4步：修复验证 | "知道问题在哪了，现在修。我需要加一个 overtime 列表，或者先去掉加班费的计算。" | 修改代码，重新运行 |

**讲师台词（总结）：**

> "看到了吗？整个过程不到2分钟。关键是**不要慌，先读报错信息**。报错信息就是程序在跟你说：'老板，我在第几行碰到了什么问题。'你先听它说完，再决定怎么修。"

#### 2.3 如何正确用 Claude Code 调试（3分钟）

**讲师台词：**

> "知道怎么调试之后，我们再来说怎么让 Claude Code 帮你调试。这里有一个很重要的区别。"

**投影对比展示：**

```
错误的方式（L1水平）：
"报错了，帮我修"
"程序不能运行了，你看看"

正确的方式（L2水平）：
"运行 wage.py 的时候第5行报了 NameError，
说 overtime 没有定义。
我觉得是因为我只定义了 wages 列表，
忘了定义 overtime 列表。帮我看看怎么修。"
```

**讲师台词：**

> "区别在哪？第一种方式，你把所有思考都扔给了AI。第二种方式，你自己先做了判断——第几行、什么错误、你觉得是什么原因。"
>
> "这不只是用AI的技巧，这是一种**思维方式**。明天答辩的时候，讲师也会问你：'遇到的最大的bug是什么？你怎么找到问题在哪的？'如果你只说'AI帮我修的'，那就是L1。如果你能说出'我看到报错说第X行有问题，我判断是因为XX，然后让AI帮我改了'，那就是L2。"

**关键强调（讲师务必说）：**

> "记住这个口诀：**先读后问，带着方向问**。不要当甩手掌柜。"

---

### 第三部分：部署基础概念（5分钟）[0:15-0:20]

> **设计意图**：部署概念点到即止。对大部分学员来说，"本地能跑 + 有使用说明"就是合格的交付。冲L3的学员可以尝试更进一步。

#### 3.1 什么是部署和交付（2分钟）

**讲师台词：**

> "项目做完了，接下来一个问题：你做的东西只有你自己能用，那不算真正完成。**交付**的意思是：别人按照你的说明操作，也能把你的程序跑起来。"
>
> "这其实就是你日常生活中常做的事——你做了一道菜，得写个菜谱，别人照着菜谱也能做出来。程序也一样。"

#### 3.2 不同类型项目的部署方式（3分钟）

**投影展示：**

```
你的项目属于哪种？

┌─────────────────────────────────────────────────────┐
│ 脚本类项目（.py 文件）                                │
│ 交付方式：写一份 README 说明                          │
│                                                     │
│ README 至少写清楚：                                   │
│   1. 这个程序做什么                                   │
│   2. 运行前需要什么（Python版本、需要装什么包）          │
│   3. 怎么运行（具体命令）                              │
│   4. 输入什么、输出什么                                │
├─────────────────────────────────────────────────────┤
│ 网页类项目（.html 文件）                              │
│ 交付方式A：直接双击打开 HTML 文件                      │
│ 交付方式B：python3 -m http.server 启动本地服务器       │
│ 交付方式C（进阶）：部署到 GitHub Pages，别人用链接访问  │
└─────────────────────────────────────────────────────┘
```

**讲师台词：**

> "脚本类项目，最重要的是写一份 README——就是一份使用说明。告诉别人：这个程序做什么、怎么运行、需要什么环境。你可以让 Claude Code 帮你写这个 README。"
>
> "网页类项目更简单——HTML 文件双击就能打开。如果你的项目需要本地服务器，在终端输入 `python3 -m http.server`，然后在浏览器打开 `localhost:8000` 就能看到。"
>
> "冲L3的同学，如果你想更进一步，可以试试把网页部署到 GitHub Pages，这样别人通过一个网址就能访问你的作品。尹伟可以帮你搞定这个。"

**讲师台词（总结）：**

> "记住一句话：**交付 = 别人按你的说明操作，能把你的程序跑起来。** 今天完善项目的时候，也想想这个问题。"

---

### 第四部分：项目完善时间（20分钟）[0:20-0:40]

> **设计意图**：这是本节课的核心时间。学员根据自身项目状态选择重点，讲师巡回指导。目标是让每个人的项目在答辩前达到最佳状态。

#### 开始前的分流引导

**讲师台词：**

> "接下来20分钟是你们自己的时间。根据你项目现在的状态，选择今天的重点："

**投影显示：**

```
你的项目现在什么状态？

状态A：还没跑通 / 有报错
  → 今天重点：调试！用刚才学的四步法，先让程序跑起来
  → 遇到报错先自己读，读完再问 Claude Code

状态B：基本能跑，但功能不完整
  → 今天重点：完善功能，或者优化使用体验
  → 想想答辩的时候你要展示什么，把那个功能做好

状态C：功能已经完整了
  → 今天重点：写使用说明（README），尝试部署
  → 让旁边的同学试试能不能按你的说明把程序跑起来

不确定自己什么状态？
  → 举手，我们过来帮你看
```

**讲师台词：**

> "现在开始。有问题随时举手，我和尹伟会过来。"

#### 巡场分工

| 角色 | 职责 |
|:---|:---|
| 沈林伟（主讲） | 重点帮助状态A的学员（调试）和状态B的学员（功能完善）。帮学员实践"四步法"：不要直接告诉答案，引导学员自己读报错、缩小范围 |
| 尹伟（助教） | 重点帮助状态C的学员（部署、README）。如有学员尝试 GitHub Pages，全程辅助。同时巡场处理环境问题 |

#### 巡场检查要点

- [ ] 状态A的学员：是否在尝试自己读报错信息？还是直接说"帮我看"？如果是后者，引导他先读
- [ ] 状态B的学员：功能方向是否合理？有没有在答辩前一天还想推翻重来的？劝住
- [ ] 状态C的学员：README 写了吗？让他请旁边的同学照着 README 试一下能不能跑
- [ ] 所有学员：项目自检清单发了吗？让他们对照着看看自己差什么

#### 讲师巡场时的常用台词

| 学员状态 | 讲师台词 |
|:---|:---|
| 学员说"报错了" | "好，你先看看报错信息最后一行写了什么。读给我听。" |
| 学员说"不知道怎么改" | "你觉得问题出在哪一块？是读取数据的部分，还是计算的部分，还是显示的部分？" |
| 学员想加新功能 | "你现在的核心功能稳定吗？如果核心还不稳定，先把核心做好。加分项是锦上添花，不是雪中送炭。" |
| 学员说"做完了" | "那你试试让旁边的同学用一下你的程序。如果他不看你的屏幕、只看你的说明，能跑起来吗？" |
| 学员明显紧张 | "别担心，明天答辩不是考试。就是展示你做了什么、怎么做的。你今天把程序跑通，能说清楚就行。" |

---

### 第五部分：同伴互评 第2轮（5分钟）[0:40-0:45]

> **设计意图**：这是第二次同伴互评。和上一次相比，学员已经有了更多经验，项目也更完善。重点是看"改进"——从上次互评到现在，项目变好了吗？

#### 互评启动

**讲师台词：**

> "好，时间到。现在我们做一轮同伴互评——和之前一样，两个人一组。"
>
> "这次互评多一个维度：跟上一次比，你的搭档的项目有没有变好？你之前给的建议，他有没有改进？"

**投影显示互评流程：**

```
同伴互评（第2轮）—— 3分钟一组

1. 展示（1分钟）：把你的项目运行给搭档看
2. 提问（1分钟）：搭档问一个问题
   - "这个功能是怎么实现的？"
   - "如果我输入XXX会怎样？"
3. 建议（1分钟）：搭档给一条建议
   - 可以是改进方向
   - 也可以是"这个地方做得很好"

额外关注：跟上次互评比，项目改进了哪里？
```

**讲师台词：**

> "上次互评的搭档还记得吗？尽量还是同一对。如果上次的搭档不在，就跟旁边的人一组。"
>
> "时间有限，每人1.5分钟。先A展示，B提问和建议。然后交换。我喊'交换'的时候就切。"

#### 操作要点

1. 讲师计时，1.5分钟喊一次"交换"
2. 尹伟在学员之间走动，听听互评的质量——学员是在认真看对方的项目，还是在敷衍？
3. 互评结束后，讲师快速收尾

#### 收尾与答辩预告

**讲师台词：**

> "互评结束。大家给搭档的建议，今天回去还可以想想怎么改进。"
>
> "好，下节课就是答辩了。提醒几件事："

**投影显示：**

```
明天答辩注意事项：

1. 确保你的程序能运行 —— 答辩第一步就是展示程序
2. 准备好用1-2句话说清楚"这个程序做什么"
3. 想好一个开发过程中的问题和你怎么解决的
4. 不用紧张 —— 答辩是展示你的成长，不是挑你毛病

对照"项目自检清单"最后检查一遍！
```

**讲师台词：**

> "答辩的时候每人3-5分钟。先展示你的程序，然后说说你做了什么、遇到什么问题、怎么解决的。讲师会问1-2个问题。就这么简单。"
>
> "最重要的是：答辩不是考试，是让你展示这段时间的收获。做到什么程度就展示什么程度，不用跟别人比。好，今天的课就到这里。回去看看自检清单，明天见！"

---

## 常见问题与应对（FAQ）

| 学员问题 | 讲师回应 |
|:---|:---|
| "我的项目还没做完怎么办？" | "没关系，答辩看的不只是成品，更看你的过程。能运行最基本的功能就行。今天剩下的时间赶紧把核心功能调通。" |
| "报错信息太长了看不懂" | "只看最后几行就行。最后一行通常是错误类型（比如 NameError、TypeError），倒数几行会告诉你是第几行出的错。把最后5行复制给 Claude Code 看，比截整个屏幕有用。" |
| "Claude Code 修了一次还是错" | "那就再看报错信息——是同一个错还是新的错？如果是同一个错，说明 Claude Code 没改对，你要告诉它更具体的信息。如果是新的错，说明上一个问题修好了，但又碰到了新问题。这很正常，一个一个来。" |
| "README 怎么写？" | "最简单的方法：让 Claude Code 帮你写。跟它说'请给我的项目写一份 README，说明这个程序做什么、怎么运行、需要什么环境'。" |
| "什么是 GitHub Pages？" | "是一个免费的网页托管服务。你把 HTML 文件放上去，就能得到一个网址，别人通过网址就能看到你的网页。今天不要求掌握，感兴趣的找尹伟聊。" |
| "答辩紧张怎么办？" | "就当是跟我们聊天。你做了什么就说什么。我们不是来挑毛病的，是来听你分享的。" |
| "能不能重新换一个项目？" | "现在换来不及了。把现在的项目做到最好就行。一个做完的简单项目，比一个做一半的复杂项目好。" |

---

## 时间应急方案

| 情况 | 方案 |
|:---|:---|
| 调试讲解超时（>12分钟） | 压缩部署概念到2分钟（只说"写README+本地能跑就行"），保证项目完善时间不少于15分钟 |
| 学员都在状态A（大面积卡住） | 缩短同伴互评到3分钟，多留时间给项目完善。讲师优先帮卡住最严重的学员 |
| 学员普遍进度好（大部分状态C） | 可以多花时间在同伴互评上，让互评更充分。也可以让状态C的学员帮状态A的同学调试 |
| Claude Code 不可用 | 调试演示用讲师电脑做，学员完善项目时先排查问题、写注释、写README，等网络恢复再用Claude Code |

---

## 课后讲师反思（每次课后花3分钟填写）

| 维度 | 记录 |
|:---|:---|
| 学员项目状态分布（A/B/C各多少人） | _____ |
| 调试四步法学员是否能用起来 | _____ |
| 学员向Claude Code描述问题的方式有没有改善 | _____ |
| 同伴互评质量如何（认真/敷衍） | _____ |
| 有没有学员项目明显来不及完成 | _____ |
| 答辩前需要特别关注哪些学员 | _____ |
| 下节课答辩需要调整的地方 | _____ |

---

## 板书/投影要点备忘

课上可以在白板或投影上保留以下内容供学员随时参考：

```
调试四步法：
1. 读报错 —— 看最后一行
2. 缩小范围 —— 代码？环境？输入？
3. 定位问题 —— 第几行？哪一段？
4. 修复验证 —— 改完再跑一遍

向 Claude Code 求助的正确姿势：
不要说："报错了帮我修"
要说："第X行报了XX错误，我觉得是因为XX"

交付 = 别人按你的说明操作，能跑起来
```
